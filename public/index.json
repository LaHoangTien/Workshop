[{"uri":"/1-prerequisites/","title":"CÃ¡c bÆ°á»›c chuáº©n bá»‹","tags":[],"description":"","content":"CÃ¡c bÆ°á»›c chuáº©n bá»‹ â„¹ï¸ Information: á» pháº§n nÃ y, báº¡n sáº½ sá»­ dá»¥ng CloudFormation Template Ä‘á»ƒ táº¡o háº¡ táº§ng máº¡ng cÃ³ káº¿t ná»‘i vá»›i Internet má»™t cÃ¡ch thuáº­n tiá»‡n rá»“i sau Ä‘Ã³ táº¡o thÃªm hai mÃ¡y áº£o á»Ÿ hai public subnet cá»§a hai VPC.\nğŸ’¡ Pro Tip: CloudFormation Template giÃºp tá»± Ä‘á»™ng hÃ³a viá»‡c táº¡o vÃ  quáº£n lÃ½ tÃ i nguyÃªn AWS, giÃºp tiáº¿t kiá»‡m thá»i gian vÃ  giáº£m thiá»ƒu lá»—i khi triá»ƒn khai.\nğŸ”’ Security Note: Äáº£m báº£o ráº±ng báº¡n Ä‘Ã£ cáº¥u hÃ¬nh Ä‘Ãºng cÃ¡c security groups vÃ  network ACLs Ä‘á»ƒ báº£o vá»‡ cÃ¡c tÃ i nguyÃªn cá»§a báº¡n.\nYÃªu cáº§u há»‡ thá»‘ng TÃ i khoáº£n AWS: TÃ i khoáº£n AWS cÃ³ quyá»n truy cáº­p vÃ o cÃ¡c dá»‹ch vá»¥: VPC, EC2, CloudFormation Äá»§ quyá»n Ä‘á»ƒ táº¡o cÃ¡c tÃ i nguyÃªn cáº§n thiáº¿t Kiáº¿n thá»©c cÆ¡ báº£n: Hiá»ƒu biáº¿t vá» VPC vÃ  cÃ¡c thÃ nh pháº§n cá»§a nÃ³ Kiáº¿n thá»©c vá» networking cÆ¡ báº£n Quen thuá»™c vá»›i AWS Management Console CÃ´ng cá»¥ cáº§n thiáº¿t: TrÃ¬nh duyá»‡t web hiá»‡n Ä‘áº¡i SSH client (MobaXterm) CÃ¡c bÆ°á»›c thá»±c hiá»‡n Táº¡o Key Pair Khá»Ÿi táº¡o CloudFormation Template "},{"uri":"/1-prerequisites/1.1-generate-keypair/","title":"Khá»Ÿi táº¡o Key pair","tags":[],"description":"","content":"Táº¡o Key Pair Trong workshop nÃ y, chÃºng ta sáº½ sá»­ dá»¥ng N. Virginia (us-east-1) vÃ  Oregon (us-west-2). Náº¿u báº¡n muá»‘n sá»­ dá»¥ng Region khÃ¡c , hÃ£y Ä‘áº£m báº£o chuyá»ƒn Region vá» Region báº¡n muá»‘n sá»­ dá»¥ng khi táº¡o cÃ¡c tÃ i nguyÃªn liÃªn quan tá»›i workshop.\nThá»±c hiá»‡n táº¡o Key Pair á»Ÿ N. Virginia (us-east-1)\nÄÄƒng nháº­p vÃ o AWS Management Console Chuyá»ƒn sang Region N. Virginia TÃ¬m EC2 Chá»n EC2 Trong giao diá»‡n EC2\nChá»n Keypair Chá»n Create key pair Trong giao diá»‡n Create key pair\nName, nháº­p workshop-keypair Key pair type, chá»n RSA Private key file format, chá»n .pem Chá»n Create key pair Táº¡o key pair thÃ nh cÃ´ng á»Ÿ N. Virginia (us-east-1) Thá»±c hiá»‡n táº¡o keypair á»Ÿ Oregon (us-west-2)\nChuyá»ƒn sang region Oregon (us-west-2) Chá»n Create key pair Trong giao diá»‡n Create key pair\nName, nháº­p workshop-keypair-west Key pair type, chá»n RSA Private key file format, chá»n .pem Chá»n Create key pair Táº¡o key pair thÃ nh cÃ´ng á»Ÿ Oregon (us-west-2) "},{"uri":"/2-architectural-model-hub-and-spoke/1-creat-vpc-peering/","title":"Táº¡o káº¿t ná»‘i Peering","tags":[],"description":"","content":"Táº¡o káº¿t ná»‘i Peering â„¹ï¸ Information: á» BÆ°á»›c nÃ y, báº¡n sáº½ táº¡o káº¿t ná»‘i VPC Peering (VPC Peering Connection).\nWebApp â†” Hub Management â†” Hub Hub â†” Database ğŸ’¡ Pro Tip: VPC Peering cho phÃ©p cÃ¡c tÃ i nguyÃªn trong hai VPC khÃ¡c nhau giao tiáº¿p vá»›i nhau nhÆ° thá»ƒ chÃºng Ä‘ang náº±m trong cÃ¹ng má»™t máº¡ng.\nÄÄƒng nháº­p vÃ o AWS Management Console\nTÃ¬m VPC Chá»n VPC Trong giao diá»‡n VPC.\nChá»n Peering Connections Chá»n Create Peering Connection Trong giao diá»‡n Create Peering Connection\nNháº­p Name Hub-to-WebApp Chá»n VPC ID (Requester) Hub-vpc Chá»n My account Chá»n This Region (us-east-1) Chá»n VPC ID (Accepter) Web-App-vpc Chá»n Creat peering connection Accept request cho Peering Connection\nChá»n Actions Chá»n Accept request Tiáº¿p tá»¥c láº­p láº¡i cÃ¡c bÆ°á»›c trÃªn vá»›i Hub-to-Management Chá»n Actions Chá»n Accept request Tiáº¿p tá»¥c táº¡o Peering Cross-region giá»¯a Hub vÃ  Database.\n6.1. Láº¥y ID Database-vpc.\nChuyá»ƒn sang region Oregon (us-west-2) Chá»n Your VPC Copy VPC ID Database-vpc 6.2. Táº¡o Peering Cross-region.\nQuay vá» N. Virginia (us-east-1) Chá»n Peering Connections Chá»n Create Peering Connection Nháº­p Name Hub-to-Database-CrossRegion Chá»n VPC ID (Requester) Hub-vpc Chá»n My account Chá»n Another Region Chá»n Oregon (us-west-2) DÃ¡n VPC ID Database-vpc Ä‘Ã£ copy tá»« Oregon (us-west-2) Chá»n Creat peering connection 6.3. Accept request cho Hub-to-Database-CrossRegion.\nChuyá»ƒn sang region Oregon (us-west-2) Chá»n Actions Chá»n Accept request Kiá»ƒm tra káº¿t quáº£.\nQuay vá» N. Virginia (us-east-1), sáº½ tháº¥y 3 Peering Connection Ä‘Æ°á»£c táº¡o. "},{"uri":"/3-solution-1/1-creat-vpc-peering/","title":"Táº¡o káº¿t ná»‘i Peering","tags":[],"description":"","content":"Táº¡o káº¿t ná»‘i Peering â„¹ï¸ Information: á» BÆ°á»›c nÃ y, báº¡n sáº½ táº¡o káº¿t ná»‘i VPC Peering (VPC Peering Connection).\nWebApp â†” Hub Management â†” Hub Hub â†” Database ğŸ’¡ Pro Tip: VPC Peering cho phÃ©p cÃ¡c tÃ i nguyÃªn trong hai VPC khÃ¡c nhau giao tiáº¿p vá»›i nhau nhÆ° thá»ƒ chÃºng Ä‘ang náº±m trong cÃ¹ng má»™t máº¡ng.\nÄÄƒng nháº­p vÃ o AWS Management Console\nTÃ¬m VPC Chá»n VPC Trong giao diá»‡n VPC.\nChá»n Peering Connections Chá»n Create Peering Connection Trong giao diá»‡n Create Peering Connection\nNháº­p Name WebApp-to-Management-Direct Chá»n VPC ID (Requester) Web-App-vpc Chá»n My account Chá»n This Region (us-east-1) Chá»n VPC ID (Accepter) Management-vpc Chá»n Creat peering connection Accept request cho Peering Connection\nChá»n Actions Chá»n Accept request Tiáº¿p tá»¥c táº¡o Peering Cross-region giá»¯a WebApp vÃ  Database.\n5.1. Láº¥y ID Database-vpc.\nChuyá»ƒn sang region Oregon (us-west-2) Chá»n Your VPC Copy VPC ID Database-vpc 5.2. Táº¡o Peering Cross-region.\nQuay vá» N. Virginia (us-east-1) Chá»n Peering Connections Chá»n Create Peering Connection Nháº­p Name WebApp-to-Database-Direct Chá»n VPC ID (Requester) WebApp-vpc Chá»n My account Chá»n Another Region Chá»n Oregon (us-west-2) DÃ¡n VPC ID Database-vpc Ä‘Ã£ copy tá»« Oregon (us-west-2) Chá»n Creat peering connection 5.3. Accept request cho Hub-to-Database-CrossRegion.\nChuyá»ƒn sang region Oregon (us-west-2) Chá»n Actions Chá»n Accept request Láº·p láº¡i cÃ¡c bÆ°á»›c giá»¯a Management vÃ  Database vá»›i name WebApp-to-Database-Direct.\nKiá»ƒm tra káº¿t quáº£.\nQuay vá» N. Virginia (us-east-1), sáº½ tháº¥y 3 Peering Connection má»›i Ä‘Ã£ Ä‘Æ°á»£c táº¡o. "},{"uri":"/4-solution-2/1-creat-transit-gateways/","title":"Táº¡o Transit Gateway","tags":[],"description":"","content":"Táº¡o Transit gateways â„¹ï¸ Information: Trong pháº§n nÃ y, báº¡n sáº½ táº¡o má»™t AWS Transit Gateway Ä‘á»ƒ lÃ m hub trung tÃ¢m káº¿t ná»‘i cÃ¡c VPC.\nTáº¡o Transit gateways cho region N. Virginia (us-east-1) ÄÄƒng nháº­p vÃ o AWS Management Console táº¡i region N. Virginia (us-east-1)\nTÃ¬m VPC Chá»n VPC Trong giao diá»‡n VPC.\nChá»n Transit gateways Chá»n Create transit gateway Trong giao diá»‡n Create transit gateway\nNháº­p Name TGW-east Nháº­p Desciption TGW-east Nháº­p ASN 64512 Tick chá»n nhÆ° hÃ¬nh Chá»n Creat transit gateway Táº¡o Transit gateways cho region Oregon (us-west-2) Trong giao diá»‡n VPC.\nChuyá»ƒn sang region Oregon (us-west-2) Chá»n Transit gateways Chá»n Create transit gateway Trong giao diá»‡n Create transit gateway\nNháº­p Name TGW-west Nháº­p Desciption TGW-west Nháº­p ASN 64513 Tick chá»n nhÆ° hÃ¬nh Chá»n Creat transit gateway "},{"uri":"/","title":"VPC Peering Advanced Patterns","tags":[],"description":"","content":"Workshop VPC Peering Advanced Patterns Tá»•ng quan Theo máº·c Ä‘á»‹nh, cÃ¡c VPC (Virtual Private Cloud) trong AWS lÃ  hoÃ n toÃ n cÃ¡ch ly vá»›i nhau. CÃ¡c tÃ i nguyÃªn nhÆ° EC2 hoáº·c RDS trong má»™t VPC khÃ´ng thá»ƒ giao tiáº¿p trá»±c tiáº¿p vá»›i tÃ i nguyÃªn trong má»™t VPC khÃ¡c náº¿u khÃ´ng cÃ³ káº¿t ná»‘i máº¡ng rÃµ rÃ ng.\nTrong bÃ i lab nÃ y, báº¡n sáº½ thá»±c hiá»‡n káº¿t ná»‘i VPC Peering giá»¯a cÃ¡c VPC thÃ´ng qua mÃ´ hÃ¬nh Hub-and-Spoke, nháº±m cho phÃ©p cÃ¡c tÃ i nguyÃªn trong cÃ¡c VPC con cÃ³ thá»ƒ liÃªn láº¡c giÃ¡n tiáº¿p thÃ´ng qua má»™t VPC trung tÃ¢m (Hub VPC).\nÄÃ¢y lÃ  bÆ°á»›c Ä‘áº§u tiÃªn Ä‘á»ƒ hiá»ƒu rÃµ kiáº¿n trÃºc máº¡ng phÃ¢n tÃ¡n vÃ  kháº£ nÄƒng má»Ÿ rá»™ng trong mÃ´i trÆ°á»ng Ä‘a tÃ i nguyÃªn AWS.\nMÃ´ hÃ¬nh kiáº¿n trÃºc ban Ä‘áº§u: Hub-and-Spoke ChÃºng ta sáº½ táº¡o ra 4 VPC:\nWebApp VPC (us-east-1) Management VPC (us-east-1) Hub VPC (us-east-1) Database VPC (us-west-2) Sau Ä‘Ã³, thiáº¿t láº­p cÃ¡c káº¿t ná»‘i VPC Peering tá»« cÃ¡c Spoke VPC Ä‘áº¿n Hub VPC.\nLÆ°u Ã½: Viá»‡c káº¿t ná»‘i VPC Peering lÃ  point-to-point vÃ  khÃ´ng há»— trá»£ Ä‘á»‹nh tuyáº¿n xuyÃªn tiáº¿p (transitive routing).\nVáº¥n Ä‘á» gáº·p pháº£i: KhÃ´ng há»— trá»£ Transitive Routing Trong mÃ´ hÃ¬nh trÃªn:\nWebApp VPC cÃ³ thá»ƒ káº¿t ná»‘i vá»›i Database VPC thÃ´ng qua Hub? KhÃ´ng. Máº·c dÃ¹ cáº£ hai Ä‘á»u káº¿t ná»‘i vá»›i Hub, nhÆ°ng do Peering khÃ´ng há»— trá»£ Ä‘á»‹nh tuyáº¿n xuyÃªn tiáº¿p, cÃ¡c gÃ³i tin tá»« WebApp VPC khÃ´ng thá»ƒ Ä‘i qua Hub VPC Ä‘á»ƒ Ä‘áº¿n Database VPC. ÄÃ¢y chÃ­nh lÃ  giá»›i háº¡n cá»§a VPC Peering connection.\nGiáº£i phÃ¡p 1: Fully Meshed Peering Trong mÃ´ hÃ¬nh nÃ y, má»—i VPC sáº½ táº¡o má»™t káº¿t ná»‘i Peering vá»›i táº¥t cáº£ cÃ¡c VPC cÃ²n láº¡i. Äiá»u nÃ y cho phÃ©p cÃ¡c VPC giao tiáº¿p trá»±c tiáº¿p mÃ  khÃ´ng phá»¥ thuá»™c vÃ o routing qua Hub.\nVá»›i 4 VPC, báº¡n cáº§n táº¡o 6 káº¿t ná»‘i Peering:\nWebApp â†” Management WebApp â†” Hub WebApp â†” Database Management â†” Hub Management â†” Database Hub â†” Database â¡ï¸ Æ¯u Ä‘iá»ƒm:\nÄáº£m báº£o má»i VPC cÃ³ thá»ƒ giao tiáº¿p trá»±c tiáº¿p KhÃ´ng phá»¥ thuá»™c vÃ o transitive routing â¡ï¸ NhÆ°á»£c Ä‘iá»ƒm:\nQuáº£n lÃ½ phá»©c táº¡p khi sá»‘ lÆ°á»£ng VPC tÄƒng Chi phÃ­ vÃ  cáº¥u hÃ¬nh routing table tÄƒng theo sá»‘ káº¿t ná»‘i Giáº£i phÃ¡p 2: AWS Transit Gateway (TGW) TGW cho phÃ©p káº¿t ná»‘i nhiá»u VPC thÃ´ng qua má»™t trung tÃ¢m káº¿t ná»‘i táº­p trung, cho phÃ©p transitive routing tá»± nhiÃªn. Má»—i VPC chá»‰ cáº§n gáº¯n vÃ o Transit Gateway, vÃ  báº¡n cÃ³ thá»ƒ Ä‘á»‹nh tuyáº¿n qua láº¡i giá»¯a táº¥t cáº£ cÃ¡c VPC.\nâ¡ï¸ Æ¯u Ä‘iá»ƒm:\nÄÆ¡n giáº£n hÃ³a routing Há»— trá»£ má»Ÿ rá»™ng quy mÃ´ lá»›n Cho phÃ©p transitive routing â¡ï¸ NhÆ°á»£c Ä‘iá»ƒm:\nTGW lÃ  dá»‹ch vá»¥ tráº£ phÃ­ ($/attachment/hour) KhÃ´ng há»— trá»£ táº¥t cáº£ region, cáº§n cÃ¢n nháº¯c cho cross-region Main Content CÃ¡c bÆ°á»›c chuáº©n bá»‹ MÃ´ hÃ¬nh kiáº¿n trÃºc: Hub-and-Spoke Giáº£i PhÃ¡p 1: Fully Meshed Peering Giáº£i phÃ¡p 2: AWS Transit Gateway Cáº¥u HÃ¬nh GiÃ¡m SÃ¡t Dá»n Dáº¹p TÃ i NguyÃªn "},{"uri":"/3-solution-1/2-route-tables/","title":"Cáº­p nháº­t Route tables","tags":[],"description":"","content":"Cáº¥u hÃ¬nh Route tables â„¹ï¸ Information: Trong pháº§n nÃ y, ta sáº½ chá»‰ cáº­p nháº­t Route Table cho Management-vpc, WebApp-vpc, Database-vpc vÃ¬ Hub-vpc Ä‘Ã£ Ä‘Æ°á»£c cáº¥u hÃ¬nh trá»±c tiáº¿p Ä‘áº¿n 3 VPC cÃ²n láº¡i\nCáº­p nháº­t Route Table cho Management-vpc Má»Ÿ VPC Management Console táº¡i N. Virginia (us-east-1)\nChá»n Route Tables Chá»n Management-private-rt Nháº¥n Edit routes ThÃªm route.\nChá»n Add route Cáº¥u hÃ¬nh Destination vÃ  Target theo áº£nh Chá»n Save changes Láº·p láº¡i cÃ¡c bÆ°á»›c vá»›i Management-public-rt\nCáº¥u hÃ¬nh Route Table cho Webapp-vpc Má»Ÿ VPC Management Console táº¡i N. Virginia (us-east-1) Chá»n Route Tables Chá»n Webapp-private-rt Nháº¥n Edit routes ThÃªm route. Chá»n Add route Cáº¥u hÃ¬nh Destination vÃ  Target theo áº£nh Chá»n Save changes Láº·p láº¡i cÃ¡c bÆ°á»›c vá»›i Webapp-public-rt\nCáº¥u hÃ¬nh Route Table cho Database-vpc Má»Ÿ VPC Management Console táº¡i Oregon (us-west-2) Chá»n Route Tables Chá»n Database-private-rt Nháº¥n Edit routes ThÃªm route. Chá»n Add route Cáº¥u hÃ¬nh Destination vÃ  Target theo áº£nh Chá»n Save changes Láº·p láº¡i cÃ¡c bÆ°á»›c vá»›i Database-public-rt\n"},{"uri":"/2-architectural-model-hub-and-spoke/2-route-tables/","title":"Cáº¥u hÃ¬nh Route tables","tags":[],"description":"","content":"Cáº¥u hÃ¬nh Route tables â„¹ï¸ Information: Trong pháº§n nÃ y, báº¡n sáº½ cáº¥u hÃ¬nh Route Table cho tá»«ng VPC.\nâš ï¸ Warning: ChÃºng ta cÃ³ tá»•ng cá»™ng 8 Route Table ( 6 tá»« region N. Virginia (us-east-1) vÃ  2 tá»« Oregon (us-west-2)), CÃ¡c Route Table Ä‘Æ°á»£c Ä‘áº·t theo tÃªn VPC Ä‘á»ƒ dá»… theo dÃµi vÃ  hÃ£y Ä‘áº£m báº£o thá»±c hiá»‡n Ä‘áº§y Ä‘á»§ cÃ¡c bÆ°á»›c kiá»ƒm tra Ä‘á»ƒ xÃ¡c nháº­n káº¿t ná»‘i hoáº¡t Ä‘á»™ng chÃ­nh xÃ¡c.\nRegion N. Virginia (us-east-1)\nHub-private-rt, Hub-public-rt = Route Table cá»§a Hub-vpc Management-private-rt, Management-public-rt = Route Table cá»§a Management-vpc WebApp-private-rt, WebApp-public-rt = Route Table cá»§a WebApp-vpc Region Oregon (us-west-2)\nDatabase-private-rt, Database-public-rt = Route Table cá»§a Database-vpc Cáº¥u hÃ¬nh Route Table cho Hub-vpc Chá»n Route Table.\nMá»Ÿ VPC Management Console táº¡i N. Virginia (us-east-1) Chá»n Route Tables Chá»n Hub-private-rt Nháº¥n Edit routes ThÃªm route.\nChá»n Add route Cáº¥u hÃ¬nh Destination vÃ  Target theo áº£nh Chá»n Save changes XÃ¡c nháº­n route\nKiá»ƒm tra route má»›i Ä‘Ã£ Ä‘Æ°á»£c thÃªm Láº·p láº¡i cÃ¡c bÆ°á»›c vá»›i Hub-public-rt\nCáº¥u hÃ¬nh Route Table cho Management-vpc Chá»n Route Table. Má»Ÿ VPC Management Console táº¡i N. Virginia (us-east-1) Chá»n Route Tables Chá»n Management-private-rt Nháº¥n Edit routes ThÃªm route. Chá»n Add route Cáº¥u hÃ¬nh Destination vÃ  Target theo áº£nh Chá»n Save changes XÃ¡c nháº­n route Kiá»ƒm tra route má»›i Ä‘Ã£ Ä‘Æ°á»£c thÃªm Láº·p láº¡i cÃ¡c bÆ°á»›c vá»›i Management-public-rt\nCáº¥u hÃ¬nh Route Table cho Webapp-vpc Chá»n Route Table. Má»Ÿ VPC Management Console táº¡i N. Virginia (us-east-1) Chá»n Route Tables Chá»n Webapp-private-rt Nháº¥n Edit routes ThÃªm route. Chá»n Add route Cáº¥u hÃ¬nh Destination vÃ  Target theo áº£nh Chá»n Save changes Láº·p láº¡i cÃ¡c bÆ°á»›c vá»›i Webapp-public-rt\nCáº¥u hÃ¬nh Route Table cho Database-vpc Chá»n Route Table. Má»Ÿ VPC Management Console táº¡i Oregon (us-west-2) Chá»n Route Tables Chá»n Database-private-rt Nháº¥n Edit routes ThÃªm route. Chá»n Add route Cáº¥u hÃ¬nh Destination vÃ  Target theo áº£nh Chá»n Save changes Láº·p láº¡i cÃ¡c bÆ°á»›c vá»›i Database-public-rt\nKiá»ƒm tra cáº¥u hÃ¬nh Security Group Kiá»ƒm tra Database-SG Chá»‰ cho phÃ©p SSH tá»« mÃ¡y Management Kiá»ƒm tra Webapp-SG Chá»‰ cho phÃ©p SSH tá»« mÃ¡y Management Kiá»ƒm tra Management-SG Chá»‰ cho phÃ©p SSH tá»« IP cá»§a báº¡n **Kiá»ƒm tra Hub-SG Chá»‰ cho phÃ©p SSH tá»« mÃ¡y Management "},{"uri":"/1-prerequisites/1.2-initialize-cloudformation/","title":"Khá»Ÿi táº¡o CloudFormation Template","tags":[],"description":"","content":" TrÆ°á»›c háº¿t báº¡n pháº£i táº£i CloudFormation Template vÃ  tiáº¿n hÃ nh giáº£i nÃ©n.\nKhá»Ÿi táº¡o Stack cho region Oregon (us-west-2) Váº«n á»Ÿ region Oregon (us-west-2) truy cáº­p Ä‘áº¿n CloudFormation Management Conole báº±ng cÃ¡ch gÃµ CloudFormation vÃ o thanh tÃ¬m kiáº¿m. Trong giao diá»‡n CloudFormation\nChá»n Stacks Chá»n Create stack Trong giao diá»‡n Create stack\nChá»n Choose an existing template Chá»n Upload a template file Chá»n Choose file chá»n vpc-peering-database-template.yaml tá»« file Ä‘Ã£ táº£i vá» trÆ°á»›c Ä‘Ã³ Chá»n Next Trong trang Specify stack details\nNháº­p tÃªn stack FCJ-Workshop-West Chá»n Instance type Chá»n Keypair cá»§a báº¡n Chá»n Next Tiáº¿p tá»¥c Next vÃ  chá»n Submit Khá»Ÿi táº¡o stack FCJ-Workshop-West thÃ nh cÃ´ng Kiá»ƒm tra EC2 Intances\nNháº­p EC2 trÃªn thanh tÃ¬m kiáº¿m Chá»n EC2 Trong giao diá»‡n EC2\nChá»n Intances sáº½ tháº¥y Database-Server Ä‘Ã£ Ä‘Æ°á»£c táº¡o Khá»Ÿi táº¡o Stack cho region N. Virginia (us-east-1) Chuyá»ƒn sang region N. Virginia (us-east-1) truy cáº­p Ä‘áº¿n CloudFormation Management Conole Trong giao diá»‡n CloudFormation\nChá»n Stacks Chá»n Create stack Trong giao diá»‡n Create stack\nChá»n Choose an existing template Chá»n Upload a template file Chá»n Choose file chá»n vpc-peering-main-template.yaml tá»« file Ä‘Ã£ táº£i vá» trÆ°á»›c Ä‘Ã³ Chá»n Next Trong trang Specify stack details\nNháº­p tÃªn stack FCJ-Workshop-East Chá»n Keypair cá»§a báº¡n Nháº­p IP SSH cá»§a báº¡n (lÃ  IP mÃ¡y cá»§a báº¡n dÃ¹ng Ä‘á»ƒ truy cáº­p vÃ o mÃ¡y áº£o) Chá»n Next Má»Ÿ Command Prompt trÃªn mÃ¡y báº¡n vÃ  nháº­p curl ipinfo.io/ip Ä‘á»ƒ láº¥y IP SSH access\nTiáº¿p tá»¥c Next vÃ  chá»n Submit Khá»Ÿi táº¡o stack FCJ-Workshop-East thÃ nh cÃ´ng Tiáº¿p tá»¥c táº¡o stack thá»© 2 cho region N. Virginia (us-east-1)\nChá»n Create stack Chá»n With new resources (standard) Trong giao diá»‡n Create stack\nChá»n Choose an existing template Chá»n Upload a template file Chá»n Choose file chá»n vpc-peering-instances-template.yaml tá»« file Ä‘Ã£ táº£i vá» trÆ°á»›c Ä‘Ã³ Chá»n Next Trong trang Specify stack details\nNháº­p tÃªn stack FCJ-Workshop-East-2\nChá»n InstanceType\nChá»n Keypair cá»§a báº¡n\nNháº­p MainStackName FCJ-Workshop-East\nNháº­p IP SSH cá»§a báº¡n (lÃ  IP mÃ¡y cá»§a báº¡n dÃ¹ng Ä‘á»ƒ truy cáº­p vÃ o mÃ¡y áº£o)\nChá»n Next Tiáº¿p tá»¥c Next vÃ  chá»n Submit\nKhá»Ÿi táº¡o stack FCJ-Workshop-East-2 thÃ nh cÃ´ng Kiá»ƒm tra EC2 Intances\nNháº­p EC2 trÃªn thanh tÃ¬m kiáº¿m Chá»n EC2 Trong giao diá»‡n EC2\nChá»n Intances sáº½ tháº¥y 3 Intances Ä‘Ã£ Ä‘Æ°á»£c táº¡o Chá»n Management-Bastion Copy Public IP Äáº¿n thÆ° má»¥c báº¡n Ä‘Ã£ lÆ°u Keypair á»Ÿ bÆ°á»›c trÆ°á»›c\nCháº¡y command prompt táº¡o thÆ° má»¥c Ä‘Ã³ Nháº­p scp -i \u0026lt;key name truy cáº­p\u0026gt; \u0026lt;key name cáº§n gá»­i\u0026gt; ec2-user@\u0026lt;public ip Management\u0026gt;: BÆ°á»›c nÃ y dÃ¹ng Ä‘á»ƒ gá»­i 2 file keypair vÃ o mÃ y áº£o Management-Bastion thuáº­n tiá»‡n cho cÃ¡c bÆ°á»›c tiáº¿p theo\n"},{"uri":"/2-architectural-model-hub-and-spoke/","title":"MÃ´ hÃ¬nh kiáº¿n trÃºc: Hub-and-Spoke","tags":[],"description":"","content":"Giá»›i thiá»‡u mÃ´ hÃ¬nh Kiáº¿n trÃºc Hub-and-Spoke MÃ´ hÃ¬nh Hub-and-Spoke lÃ  má»™t kiáº¿n trÃºc máº¡ng phá»• biáº¿n Ä‘Æ°á»£c Ã¡p dá»¥ng rá»™ng rÃ£i trong mÃ´i trÆ°á»ng Cloud Ä‘á»ƒ tá»• chá»©c, phÃ¢n tÃ¡ch vÃ  kiá»ƒm soÃ¡t lÆ°u lÆ°á»£ng máº¡ng giá»¯a cÃ¡c há»‡ thá»‘ng. Trong kiáº¿n trÃºc nÃ y, má»™t VPC trung tÃ¢m Ä‘Æ°á»£c gá»i lÃ  Hub Ä‘Ã³ng vai trÃ² lÃ m Ä‘iá»ƒm Ä‘iá»u phá»‘i chÃ­nh, trong khi cÃ¡c VPC cÃ²n láº¡i Ä‘Æ°á»£c gá»i lÃ  Spoke, káº¿t ná»‘i trá»±c tiáº¿p vá»›i Hub nhÆ°ng khÃ´ng káº¿t ná»‘i ngang hÃ ng vá»›i nhau.\nTrong workshop nÃ y, mÃ´ hÃ¬nh Ä‘Æ°á»£c Ã¡p dá»¥ng vá»›i:\nHub VPC: Trung tÃ¢m Ä‘á»‹nh tuyáº¿n vÃ  giÃ¡m sÃ¡t lÆ°u lÆ°á»£ng. WebApp VPC: MÃ´ phá»•ng cháº¡y á»©ng dá»¥ng frontend. Management VPC: Truy cáº­p quáº£n trá»‹ vÃ  váº­n hÃ nh. Database VPC (khÃ¡c vÃ¹ng - cross-region): LÆ°u trá»¯ dá»¯ liá»‡u backend. CÃ¡c bÆ°á»›c thá»±c hiá»‡n Táº¡o káº¿t ná»‘i Peering Cáº¥u hÃ¬nh Route tables Kiá»ƒm tra káº¿t ná»‘i "},{"uri":"/4-solution-2/2-creat-transit-gateways-attachments/","title":"Táº¡o Transit Gateway Attachments","tags":[],"description":"","content":"Táº¡o Transit Gateway Attachments â„¹ï¸ Information: Trong pháº§n nÃ y, báº¡n sáº½ cáº¥u hÃ¬nh cÃ¡c Transit Gateway Attachments Ä‘á»ƒ káº¿t ná»‘i cÃ¡c VPC vá»›i Transit Gateway Ä‘Ã£ táº¡o.\nTáº¡o Transit Gateway Attachments Peering-East-West ÄÄƒng nháº­p vÃ o VPC Management Console táº¡i region N. Virginia (us-east-1)\nMá»Ÿ VPC Management Console Chá»n Transit Gateway Attachments Chá»n Create Transit Gateway Attachment Cáº¥u hÃ¬nh Transit Gateway Attachment.\nName Tag: TGW-Peering-East-West Transit Gateway ID: Chá»n ID cá»§a Transit Gateway Ä‘Ã£ táº¡o Attachment type: Chá»n Peering Connection Account: Chá»n My Account Region: Chá»n Oregon (us-west-2) Chá»n Transit Gateway cá»§a Oregon (us-west-2) Chá»n Create transit gateway attachment XÃ¡c thá»±c Transit Gateway Attachment\nChuyá»ƒn sang Oregon (us-west-2) Chá»n Attachments vá»«a táº¡o Chá»n Actions Chá»n Accept transit gateway attachment VÃ¬ Ä‘Ã¢y lÃ  Attachment Peering giá»¯a N. Virginia (us-east-1) vÃ  Oregon (us-west-2) NÃªn cáº§n xÃ¡c thá»±c Attachment\nTáº¡o Transit Gateway Attachments Database Táº¡o Transit Gateway Attachments Database táº¡i region Oregon (us-west-2).\ná» láº¡i region Oregon (us-west-2) Chá»n Create Transit Gateway Attachment Cáº¥u hÃ¬nh Transit Gateway Attachment.\nName Tag: Database-TGW-Attachment Transit Gateway ID: Chá»n ID cá»§a Transit Gateway Ä‘Ã£ táº¡o Attachment type: Chá»n VPC Chá»n DNS support Chá»n Security Group Referencing support Chá»n VPC ID Database-vpc Chá»n Create transit gateway attachment Táº¡o Transit Gateway Attachments Hub Táº¡o Transit Gateway Attachments Hub táº¡i region N. Virginia (us-east-1).\nQuay vá» region N. Virginia (us-east-1) Chá»n Create Transit Gateway Attachment Cáº¥u hÃ¬nh Transit Gateway Attachment.\nName Tag: Hub-TGW-Attachment Transit Gateway ID: Chá»n ID cá»§a Transit Gateway Ä‘Ã£ táº¡o Attachment type: Chá»n VPC Chá»n DNS support Chá»n Security Group Referencing support Chá»n VPC ID Hub-vpc Chá»n Create transit gateway attachment Táº¡o Transit Gateway Attachments WebApp vÃ  Management Láº·p láº¡i cÃ¡c bÆ°á»›c táº¡o Táº¡o Transit Gateway Attachments Hub cho WebApp-TGW-Attachment vÃ  Management-TGW-Attachment "},{"uri":"/4-solution-2/3-config-transit-gateways-route-table/","title":"Cáº¥u HÃ¬nh Transit Gateway Route Tables","tags":[],"description":"","content":"Tá»•ng quan Transit Gateway vá» Route Tables â„¹ï¸ Information: Trong pháº§n nÃ y, báº¡n sáº½ cáº¥u hÃ¬nh Route Table cho Transit Gateway Ä‘á»ƒ quáº£n lÃ½ luá»“ng traffic giá»¯a cÃ¡c VPC.\nCáº¥u hÃ¬nh Transit Gateway Route Table táº¡i region N. Virginia (us-east-1) ğŸ“Œ Má»¥c Ä‘Ã­ch: Cho phÃ©p VPC á»Ÿ us-east-1 Ä‘á»‹nh tuyáº¿n traffic tá»›i Database VPC qua TGW peering.\nÄÄƒng nháº­p vÃ o VPC Management Console táº¡i region N. Virginia (us-east-1)\nMá»Ÿ VPC Management Console Chá»n Transit Gateway Route Tables Chá»n Route Tables Ä‘Ã£ Ä‘Æ°á»£c táº¡o tá»« Transit Gateway Chá»n tab Routes Chá»n Creat static route. Táº¡o Static route.\nCIDR: 10.2.0.0/16 CIDR block cá»§a Database-vpc Choose attachment: Chá»n attachment TWG-Peering-East-West Chá»n Creat static route Cáº¥u hÃ¬nh Transit Gateway Route Table táº¡i region Oregon (us-west-2) ğŸ“Œ Má»¥c Ä‘Ã­ch: Cho phÃ©p Database-vpc Ä‘á»‹nh tuyáº¿n traffic tá»›i VPC trong us-east-1 qua TGW peering.\nChuyá»ƒn sang Oregon (us-west-2)\nChá»n Route Tables Ä‘Ã£ Ä‘Æ°á»£c táº¡o tá»« Transit Gateway Chá»n tab Routes Chá»n Creat static route. Táº¡o Static route.\nCIDR: 10.1.0.0/16 CIDR block cá»§a WebApp-vpc Choose attachment: Chá»n attachment TWG-Peering-East-West Chá»n Creat static route Táº·p láº¡i cÃ¡c bÆ°á»›c cho CIDR block cá»§a Hub-vpc 10.0.0.0/16 vÃ  Management-vpc 10.3.0.0/16. âœ… ÄÃ¢y lÃ  pháº§n quan trá»ng Ä‘á»ƒ Ä‘áº£m báº£o káº¿t ná»‘i 2 chiá»u hoáº¡t Ä‘á»™ng trong kiáº¿n trÃºc multi-region!\n"},{"uri":"/3-solution-1/","title":"Giáº£i PhÃ¡p 1: Fully Meshed Peering","tags":[],"description":"","content":"Giá»›i thiá»‡u mÃ´ hÃ¬nh Kiáº¿n trÃºc Fully Meshed Peering MÃ´ hÃ¬nh Full Meshed lÃ  má»™t kiáº¿n trÃºc máº¡ng trong Ä‘Ã³ má»i VPC Ä‘á»u Ä‘Æ°á»£c káº¿t ná»‘i trá»±c tiáº¿p vá»›i nhau thÃ´ng qua cÃ¡c VPC Peering riÃªng biá»‡t. Kiáº¿n trÃºc nÃ y loáº¡i bá» hoÃ n toÃ n sá»± phá»¥ thuá»™c vÃ o má»™t VPC trung tÃ¢m nhÆ° trong mÃ´ hÃ¬nh Hub-and-Spoke, giÃºp Ä‘áº£m báº£o ráº±ng má»i VPC Ä‘á»u cÃ³ thá»ƒ giao tiáº¿p vá»›i nhau mÃ  khÃ´ng bá»‹ giá»›i háº¡n bá»Ÿi Ä‘á»‹nh tuyáº¿n chuyá»ƒn tiáº¿p.\nTrong mÃ´i trÆ°á»ng Cloud, Ä‘áº·c biá»‡t lÃ  vá»›i AWS, mÃ´ hÃ¬nh Full Meshed thÆ°á»ng Ä‘Æ°á»£c Ã¡p dá»¥ng khi cáº§n:\nKáº¿t ná»‘i trá»±c tiáº¿p, hai chiá»u giá»¯a cÃ¡c dá»‹ch vá»¥ phÃ¢n bá»‘ trong nhiá»u VPC. Tá»‘i Æ°u hÃ³a Ä‘á»™ trá»… vÃ  luá»“ng dá»¯ liá»‡u, trÃ¡nh Ä‘i qua trung gian. TÄƒng tÃ­nh sáºµn sÃ ng, khÃ´ng bá»‹ phá»¥ thuá»™c vÃ o má»™t VPC trung tÃ¢m. Tuy nhiÃªn, mÃ´ hÃ¬nh nÃ y cÅ©ng cÃ³ nhá»¯ng nhÆ°á»£c Ä‘iá»ƒm nháº¥t Ä‘á»‹nh:\nÄá»™ phá»©c táº¡p quáº£n trá»‹ tÄƒng theo cáº¥p sá»‘ nhÃ¢n khi sá»‘ lÆ°á»£ng VPC tÄƒng (n VPC sáº½ cáº§n n(n-1)/2 káº¿t ná»‘i peering). KhÃ³ má»Ÿ rá»™ng khi Ã¡p dá»¥ng cho mÃ´i trÆ°á»ng lá»›n hoáº·c Ä‘a vÃ¹ng (multi-region). TÄƒng rá»§i ro báº£o máº­t, do má»i VPC Ä‘á»u cÃ³ thá»ƒ trá»±c tiáº¿p truy cáº­p láº«n nhau náº¿u khÃ´ng cáº¥u hÃ¬nh Ä‘Ãºng Security Group vÃ  Route Table. CÃ¡c bÆ°á»›c thá»±c hiá»‡n Táº¡o káº¿t ná»‘i Peering Cáº¥u hÃ¬nh Route tables Kiá»ƒm tra káº¿t ná»‘i "},{"uri":"/2-architectural-model-hub-and-spoke/3-check-result/","title":"Kiá»ƒm tra káº¿t ná»‘i","tags":[],"description":"","content":"Kiá»ƒm tra káº¿t ná»‘i â„¹ï¸ Information: Sau khi hoÃ n táº¥t viá»‡c triá»ƒn khai mÃ´ hÃ¬nh kiáº¿n trÃºc Hub-and-Spoke vá»›i cÃ¡c káº¿t ná»‘i VPC Peering cáº§n thiáº¿t, bÆ°á»›c tiáº¿p theo lÃ  xÃ¡c minh kháº£ nÄƒng giao tiáº¿p máº¡ng giá»¯a cÃ¡c VPC Ä‘á»ƒ Ä‘áº£m báº£o cáº¥u hÃ¬nh Ä‘á»‹nh tuyáº¿n, báº£o máº­t vÃ  Peering Ä‘Ã£ Ä‘Ãºng chá»©c nÄƒng.\nKiá»ƒm tra káº¿t ná»‘i giá»¯a cÃ¡c VPC. Káº¿t ná»‘i SSH Ä‘áº¿n EC2 trong Management-vpc Ping Ä‘áº¿n IP private cá»§a EC2 trong Hub-vpc Ping thÃ nh cÃ´ng vÃ¬ Management vÃ  Hub Ä‘Æ°á»£c thiáº¿t láº­p Peering trá»±c tiáº¿p.\nTiáº¿p tá»¥c Ping Ä‘áº¿n IP private cá»§a EC2 trong Management-vpc vÃ  Database-vpc Ping khÃ´ng thÃ nh cÃ´ng vÃ¬ Ä‘Ã¢y chÃ­nh lÃ  giá»›i háº¡n cá»§a VPC Peering, khÃ´ng há»— trá»£ Ä‘á»‹nh tuyáº¿n chuyá»ƒn tiáº¿p (transitive). Náº¿u khÃ´ng thiáº¿t láº­p Peering trá»±c tiáº¿p sáº½ khÃ´ng thá»ƒ giao tiáº¿p.\nSSH Ä‘áº¿n EC2 trong Hub-vpc tá»« mÃ¡y Management. chmod 400 workshop-keypair.pem ssh -i workshop-keypair.pem ec2-user@\u0026lt;IP-Private-Hub-Router\u0026gt; Ping Ä‘Ãªn IP private cá»§a cÃ¡c EC2 cÃ²n láº¡i KhÃ¡c vá»›i Management thÃ¬ Hub router ping Ä‘Æ°á»£c Ä‘áº¿n táº¥t cáº£ cÃ¡c mÃ¡y vÃ¬ Hub Ä‘Æ°á»£c thiáº¿t láº­p Peering trá»±c tiáº¿p Ä‘áº¿n táº¥t cáº£ cÃ¡c VPC\nKáº¿t luáº­n Qua quÃ¡ trÃ¬nh kiá»ƒm tra, ta tháº¥y ráº±ng máº·c dÃ¹ cÃ¡c káº¿t ná»‘i peering giá»¯a cÃ¡c VPC trong mÃ´ hÃ¬nh Hub-and-Spoke Ä‘á»u hoáº¡t Ä‘á»™ng Ä‘Ãºng chá»©c nÄƒng, tuy nhiÃªn má»™t háº¡n cháº¿ cá»‘t lÃµi cá»§a VPC Peering lÃ  khÃ´ng há»— trá»£ Ä‘á»‹nh tuyáº¿n chuyá»ƒn tiáº¿p (transitive routing).\nCá»¥ thá»ƒ, khi Management VPC Ä‘Ã£ káº¿t ná»‘i vá»›i Hub VPC vÃ  Hub VPC káº¿t ná»‘i vá»›i WebApp VPC, ta váº«n khÃ´ng thá»ƒ ping hoáº·c SSH trá»±c tiáº¿p tá»« Management sang WebApp náº¿u khÃ´ng thiáº¿t láº­p thÃªm má»™t peering trá»±c tiáº¿p giá»¯a hai VPC nÃ y.\nğŸ‘‰ Tá»« Ä‘Ã¢y, chÃºng ta tiáº¿n hÃ nh Ä‘Ã¡nh giÃ¡ vÃ  so sÃ¡nh hai giáº£i phÃ¡p kháº¯c phá»¥c váº¥n Ä‘á» khÃ´ng há»— trá»£ transitive routing:\nSolution 1. Fully Meshed Peering: Thiáº¿t láº­p peering trá»±c tiáº¿p giá»¯a táº¥t cáº£ cÃ¡c VPC.\nSolution 2. AWS Transit Gateway: Sá»­ dá»¥ng má»™t dá»‹ch vá»¥ trung tÃ¢m Ä‘á»ƒ káº¿t ná»‘i vÃ  Ä‘á»‹nh tuyáº¿n toÃ n bá»™ VPC.\nHai mÃ´ hÃ¬nh nÃ y sáº½ Ä‘Æ°á»£c triá»ƒn khai vÃ  Ä‘Ã¡nh giÃ¡ chi tiáº¿t trong cÃ¡c bÆ°á»›c tiáº¿p theo cá»§a workshop.\n"},{"uri":"/3-solution-1/3-check-result/","title":"Kiá»ƒm tra káº¿t ná»‘i","tags":[],"description":"","content":"Kiá»ƒm tra káº¿t ná»‘i â„¹ï¸ Information: Sau khi hoÃ n táº¥t viá»‡c triá»ƒn khai mÃ´ hÃ¬nh kiáº¿n trÃºc Hub-and-Spoke vá»›i cÃ¡c káº¿t ná»‘i VPC Peering cáº§n thiáº¿t, bÆ°á»›c tiáº¿p theo lÃ  xÃ¡c minh kháº£ nÄƒng giao tiáº¿p máº¡ng giá»¯a cÃ¡c VPC Ä‘á»ƒ Ä‘áº£m báº£o cáº¥u hÃ¬nh Ä‘á»‹nh tuyáº¿n, báº£o máº­t vÃ  Peering Ä‘Ã£ Ä‘Ãºng chá»©c nÄƒng.\nKiá»ƒm tra káº¿t ná»‘i giá»¯a cÃ¡c VPC.\nKáº¿t ná»‘i SSH Ä‘áº¿n EC2 trong Management-vpc Ping Ä‘áº¿n IP private cá»§a EC2 trong Hub-vpc, Webapps-vpc vÃ  Database-vpc ÄÃ£ Ping thÃ nh cÃ´ng táº¥t cáº£ VPC.\nSSH Ä‘áº¿n EC2 trong Webapp-vpc tá»« mÃ¡y Management.\nchmod 400 workshop-keypair.pem ssh -i workshop-keypair.pem ec2-user@\u0026lt;IP-Private-Webapp-Router\u0026gt; Ping Ä‘Ãªn IP private cá»§a cÃ¡c EC2 cÃ²n láº¡i SSH Ä‘áº¿n EC2 trong Database-vpc tá»« mÃ¡y Management.\nchmod 400 workshop-keypair-west.pem ssh -i workshop-keypair-west.pem ubuntu@\u0026lt;IP-Private-Database-Router\u0026gt; Káº¿t luáº­n Sau khi hoÃ n táº¥t triá»ƒn khai mÃ´ hÃ¬nh Full Meshed Peering, chÃºng ta cÃ³ thá»ƒ nháº­n tháº¥y ráº±ng giáº£i phÃ¡p nÃ y kháº¯c phá»¥c Ä‘Æ°á»£c háº¡n cháº¿ vá» Ä‘á»‹nh tuyáº¿n chuyá»ƒn tiáº¿p trong mÃ´ hÃ¬nh Hub-and-Spoke. CÃ¡c VPC hiá»‡n táº¡i cÃ³ thá»ƒ giao tiáº¿p trá»±c tiáº¿p vá»›i nhau, giÃºp Ä‘áº£m báº£o káº¿t ná»‘i toÃ n pháº§n giá»¯a cÃ¡c thÃ nh pháº§n trong há»‡ thá»‘ng.\nTuy nhiÃªn, mÃ´ hÃ¬nh nÃ y cÅ©ng nhanh chÃ³ng bá»™c lá»™ cÃ¡c thÃ¡ch thá»©c thá»±c táº¿ khi Ã¡p dá»¥ng á»Ÿ quy mÃ´ lá»›n:\nTá»‘n cÃ´ng quáº£n trá»‹: Má»—i cáº·p VPC cáº§n má»™t káº¿t ná»‘i peering riÃªng, dáº«n Ä‘áº¿n sá»‘ lÆ°á»£ng káº¿t ná»‘i vÃ  route table tÄƒng nhanh theo cáº¥p sá»‘ nhÃ¢n.\nKhÃ³ kiá»ƒm soÃ¡t báº£o máº­t: Vá»›i nhiá»u káº¿t ná»‘i Ä‘á»“ng cáº¥p, viá»‡c cáº¥u hÃ¬nh vÃ  duy trÃ¬ cÃ¡c Security Group, NACL vÃ  Route Table trá»Ÿ nÃªn phá»©c táº¡p hÆ¡n.\nGiá»›i háº¡n vá» kháº£ nÄƒng má»Ÿ rá»™ng: Trong mÃ´i trÆ°á»ng multi-region hoáº·c cÃ³ nhiá»u tÃ i khoáº£n AWS (multi-account), kiáº¿n trÃºc Full Mesh trá»Ÿ nÃªn khÃ³ duy trÃ¬ vÃ  dá»… lá»—i cáº¥u hÃ¬nh.\nğŸ‘‰ChÃ­nh vÃ¬ váº­y, trong pháº§n tiáº¿p theo, chÃºng ta sáº½ tiáº¿p cáº­n giáº£i phÃ¡p tá»‘i Æ°u hÆ¡n cho viá»‡c má»Ÿ rá»™ng káº¿t ná»‘i máº¡ng giá»¯a nhiá»u VPC. Ä‘Ã³ lÃ  AWS Transit Gateway, má»™t dá»‹ch vá»¥ trung tÃ¢m giÃºp Ä‘Æ¡n giáº£n hÃ³a viá»‡c káº¿t ná»‘i, Ä‘á»‹nh tuyáº¿n vÃ  kiá»ƒm soÃ¡t lÆ°u lÆ°á»£ng máº¡ng trong cÃ¡c há»‡ thá»‘ng phÃ¢n tÃ¡n hiá»‡n Ä‘áº¡i.\n"},{"uri":"/4-solution-2/4-config-vpc-route-table/","title":"Cáº­p Nháº­t VPC Route tables","tags":[],"description":"","content":"Cáº¥u hÃ¬nh Route tables â„¹ï¸ Information: Trong pháº§n nÃ y, báº¡n sáº½ cáº­p nháº­t láº¡i route tables cá»§a táº¥t cáº£ cÃ¡c VPC chuyá»ƒn sang sá»­ dá»¥ng Transit Gateway.\nCáº­p nháº­t Route Table cho Hub-vpc ÄÄƒng nháº­p vÃ o VPC Management Console táº¡i region N. Virginia (us-east-1)\nMá»Ÿ VPC Management Console Chá»n Route Tables Chá»n Hub-private-rt Nháº¥n Edit routes Cáº­p nháº­t route.\nCáº­p nháº­t láº¡i Target cho táº¥t cáº£ route thÃ nh Transit Gateway Chá»n Transit Gateway Ä‘Ã£ táº¡o Chá»n Save changes Láº·p láº¡i cÃ¡c bÆ°á»›c vá»›i Hub-public-rt\nCáº­p nháº­t Route Table cho Management-vpc ÄÄƒng nháº­p vÃ o VPC Management Console táº¡i region N. Virginia (us-east-1)\nMá»Ÿ VPC Management Console Chá»n Route Tables Chá»n Management-private-rt Nháº¥n Edit routes Cáº­p nháº­t route.\nCáº­p nháº­t láº¡i Target cho táº¥t cáº£ route thÃ nh Transit Gateway Chá»n Transit Gateway Ä‘Ã£ táº¡o Chá»n Save changes Láº·p láº¡i cÃ¡c bÆ°á»›c vá»›i Management-public-rt\nCáº­p nháº­t Route Table cho WebApp-vpc ÄÄƒng nháº­p vÃ o VPC Management Console táº¡i region N. Virginia (us-east-1)\nMá»Ÿ VPC Management Console Chá»n Route Tables Chá»n WebApp-private-rt Nháº¥n Edit routes Cáº­p nháº­t route.\nCáº­p nháº­t láº¡i Target cho táº¥t cáº£ route thÃ nh Transit Gateway Chá»n Transit Gateway Ä‘Ã£ táº¡o Chá»n Save changes Láº·p láº¡i cÃ¡c bÆ°á»›c vá»›i WebApp-public-rt\nCáº­p nháº­t Route Table cho Database-vpc ÄÄƒng nháº­p vÃ o VPC Management Console táº¡i region Oregon (us-west-2)\nMá»Ÿ VPC Management Console Chá»n Route Tables Chá»n Database-private-rt Nháº¥n Edit routes Cáº­p nháº­t route.\nCáº­p nháº­t láº¡i Target cho táº¥t cáº£ route thÃ nh Transit Gateway Chá»n Transit Gateway Ä‘Ã£ táº¡o Chá»n Save changes Láº·p láº¡i cÃ¡c bÆ°á»›c vá»›i Database-public-rt\n"},{"uri":"/4-solution-2/","title":"Giáº£i phÃ¡p 2: AWS Transit Gateway","tags":[],"description":"","content":"Giá»›i thiá»‡u mÃ´ hÃ¬nh Kiáº¿n trÃºc sá»­ dá»¥ng AWS Transit Gateway AWS Transit Gateway (TGW) lÃ  má»™t dá»‹ch vá»¥ Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ Ä‘Æ¡n giáº£n hÃ³a viá»‡c káº¿t ná»‘i máº¡ng giá»¯a nhiá»u Amazon VPC vÃ  há»‡ thá»‘ng on-premises. Thay vÃ¬ thiáº¿t láº­p káº¿t ná»‘i peering riÃªng láº» giá»¯a tá»«ng VPC nhÆ° mÃ´ hÃ¬nh Full Meshed, táº¥t cáº£ cÃ¡c VPC chá»‰ cáº§n káº¿t ná»‘i Ä‘áº¿n má»™t Transit Gateway trung tÃ¢m â€“ nÆ¡i Ä‘iá»u phá»‘i toÃ n bá»™ lÆ°u lÆ°á»£ng máº¡ng. CÆ¡ cháº¿ hoáº¡t Ä‘á»™ng: Transit Gateway Ä‘Ã³ng vai trÃ² nhÆ° má»™t router Ä‘Ã¡m mÃ¢y cÃ³ kháº£ nÄƒng Ä‘á»‹nh tuyáº¿n chuyá»ƒn tiáº¿p (transitive routing). NÃ³ giÃºp cÃ¡c VPC káº¿t ná»‘i giÃ¡n tiáº¿p vá»›i nhau thÃ´ng qua TGW mÃ  khÃ´ng cáº§n thiáº¿t láº­p peering trá»±c tiáº¿p.\nÆ¯u Ä‘iá»ƒm ná»•i báº­t: Há»— trá»£ Ä‘á»‹nh tuyáº¿n chuyá»ƒn tiáº¿p: Giáº£i quyáº¿t triá»‡t Ä‘á»ƒ háº¡n cháº¿ cá»§a VPC Peering. Tá»‘i giáº£n sá»‘ lÆ°á»£ng káº¿t ná»‘i: Vá»›i n VPC, chá»‰ cáº§n n káº¿t ná»‘i Ä‘áº¿n TGW thay vÃ¬ n(n-1)/2 káº¿t ná»‘i peering. Kháº£ nÄƒng má»Ÿ rá»™ng cao: Thiáº¿t káº¿ phÃ¹ há»£p vá»›i há»‡ thá»‘ng lá»›n, multi-account vÃ  multi-region. Quáº£n lÃ½ táº­p trung: Route table vÃ  policy cÃ³ thá»ƒ cáº¥u hÃ¬nh táº¡i má»™t nÆ¡i duy nháº¥t. Trong pháº§n tiáº¿p theo cá»§a workshop, chÃºng ta sáº½ triá»ƒn khai kiáº¿n trÃºc nÃ y Ä‘á»ƒ kiá»ƒm chá»©ng cÃ¡c Æ°u Ä‘iá»ƒm thá»±c táº¿ vá» hiá»‡u quáº£ káº¿t ná»‘i, Ä‘á»™ Ä‘Æ¡n giáº£n khi quáº£n trá»‹ vÃ  kháº£ nÄƒng má»Ÿ rá»™ng so vá»›i cÃ¡c mÃ´ hÃ¬nh trÆ°á»›c Ä‘Ã³.\nCÃ¡c bÆ°á»›c thá»±c hiá»‡n Táº¡o Transit Gateway Táº¡o Transit Gateway Attachments Cáº¥u HÃ¬nh Transit Gateway Route Tables Cáº­p Nháº­t VPC Route tables Kiá»ƒm tra káº¿t ná»‘i "},{"uri":"/5-monitoring-setup/","title":"Cáº¥u HÃ¬nh GiÃ¡m SÃ¡t","tags":[],"description":"","content":"GiÃ¡m sÃ¡t lÆ°u lÆ°á»£ng máº¡ng vá»›i VPC Flow Logs \u0026amp; CloudWatch Sau khi triá»ƒn khai kiáº¿n trÃºc káº¿t ná»‘i giá»¯a cÃ¡c VPC báº±ng mÃ´ hÃ¬nh Hub-and-Spoke, Full Meshed, vÃ  Transit Gateway, bÆ°á»›c tiáº¿p theo lÃ  thiáº¿t láº­p cÆ¡ cháº¿ giÃ¡m sÃ¡t lÆ°u lÆ°á»£ng máº¡ng, nháº±m:\nTheo dÃµi hoáº¡t Ä‘á»™ng káº¿t ná»‘i thá»±c táº¿ giá»¯a cÃ¡c VPC, XÃ¡c Ä‘á»‹nh cÃ¡c váº¥n Ä‘á» vá» káº¿t ná»‘i, báº£o máº­t hoáº·c hiá»‡u nÄƒng, VÃ  phá»¥c vá»¥ viá»‡c kiá»ƒm tra, Ä‘Ã¡nh giÃ¡ sau triá»ƒn khai. Trong pháº§n nÃ y, chÃºng ta sáº½ sá»­ dá»¥ng hai dá»‹ch vá»¥ chÃ­nh cá»§a AWS: VPC Flow Logs: Ghi láº¡i thÃ´ng tin chi tiáº¿t vá» cÃ¡c lÆ°u lÆ°á»£ng máº¡ng Ä‘i vÃ o, Ä‘i ra vÃ  ná»™i bá»™ giá»¯a cÃ¡c ENI (Elastic Network Interface) trong VPC. Amazon CloudWatch: Dá»‹ch vá»¥ theo dÃµi vÃ  phÃ¢n tÃ­ch dá»¯ liá»‡u hoáº¡t Ä‘á»™ng, nÆ¡i chÃºng ta cÃ³ thá»ƒ lÆ°u trá»¯ log, táº¡o báº£ng Ä‘iá»u khiá»ƒn (dashboard) vÃ  thiáº¿t láº­p cáº£nh bÃ¡o (alarm). Viá»‡c cáº¥u hÃ¬nh Ä‘Ãºng cÃ¡c cÃ´ng cá»¥ giÃ¡m sÃ¡t khÃ´ng chá»‰ giÃºp Ä‘áº£m báº£o káº¿t ná»‘i Ä‘ang hoáº¡t Ä‘á»™ng nhÆ° ká»³ vá»ng, mÃ  cÃ²n há»— trá»£ giáº£i quyáº¿t sá»± cá»‘ vÃ  nÃ¢ng cao kháº£ nÄƒng váº­n hÃ nh há»‡ thá»‘ng vá» lÃ¢u dÃ i.\nCáº¥u hÃ¬nh VPC Flow Logs LÆ°u Ã½: Viá»‡c cáº¥u hÃ¬nh Flow Logs nÃªn thá»±c hiá»‡n Ã­t nháº¥t táº¡i VPC trung tÃ¢m (Hub) Ä‘á»ƒ ghi láº¡i toÃ n bá»™ lÆ°u lÆ°á»£ng Ä‘i qua náº¿u báº¡n sá»­ dá»¥ng mÃ´ hÃ¬nh Transit Gateway. Vá»›i mÃ´ hÃ¬nh Full Meshed, báº¡n nÃªn báº­t Flow Logs á»Ÿ má»—i VPC cáº§n giÃ¡m sÃ¡t.\nÄÄƒng nháº­p vÃ o VPC Management Console táº¡i region N. Virginia (us-east-1) Má»Ÿ VPC Management Console Chá»n Your VPC Chá»n Hub-vpc Chá»n Actions Chá»n Creat flow log. Táº¡o Flow Logs. Cáº¥u hÃ¬nh nhÆ° áº£nh Nháº¥n Creat flow log Cáº¥u hÃ¬nh CloudWatch ÄÄƒng nháº­p vÃ o CloudWatch Management Console táº¡i region N. Virginia (us-east-1) Creat Dashboards Chá»n Dashboards Chá»n Creat dashboard Trong giao diá»‡n Táº¡o Creat new dashboard Nháº­p Name: VPC-Peering-Workshop-Dashboard Chá»n Creat dashboard ThÃªm Widget Chá»n CloudWatch Chá»n Metrics Chá»n dáº¡ng Line Chá»n Next Chá»n EC2 Chá»n Per-Instance Metrics Lá»c theo MetricName=\u0026ldquo;CPUUtilization\u0026rdquo; Chá»n 3 Instance nhÆ° áº£nh Báº¡n cÃ³ thá»ƒ cáº¥u hÃ¬nh thÃªm dashboard cho Database-VPC náº¿u muá»‘n.\n"},{"uri":"/4-solution-2/5-check-result/","title":"Kiá»ƒm tra káº¿t ná»‘i","tags":[],"description":"","content":"Kiá»ƒm tra káº¿t ná»‘i â„¹ï¸ Information: Sau khi hoÃ n táº¥t viá»‡c triá»ƒn khai mÃ´ hÃ¬nh kiáº¿n trÃºc Hub-and-Spoke vá»›i cÃ¡c káº¿t ná»‘i VPC Peering cáº§n thiáº¿t, bÆ°á»›c tiáº¿p theo lÃ  xÃ¡c minh kháº£ nÄƒng giao tiáº¿p máº¡ng giá»¯a cÃ¡c VPC Ä‘á»ƒ Ä‘áº£m báº£o cáº¥u hÃ¬nh Ä‘á»‹nh tuyáº¿n, báº£o máº­t vÃ  Peering Ä‘Ã£ Ä‘Ãºng chá»©c nÄƒng.\nKiá»ƒm tra káº¿t ná»‘i giá»¯a cÃ¡c VPC. Káº¿t ná»‘i SSH Ä‘áº¿n EC2 trong Management-vpc Ping Ä‘áº¿n IP private cá»§a EC2 trong Hub-vpc, Webapps-vpc vÃ  Database-vpc Ping thÃ nh cÃ´ng táº¥t cáº£ VPC.\nSSH Ä‘áº¿n EC2 trong Webapp-vpc tá»« mÃ¡y Management. chmod 400 workshop-keypair.pem ssh -i workshop-keypair.pem ec2-user@\u0026lt;IP-Private-Webapp-Router\u0026gt; Ping Ä‘Ãªn IP private cá»§a EC2 trong Hub-vpc vÃ  Database-vpc SSH Ä‘áº¿n EC2 trong Database-vpc tá»« mÃ¡y Management. chmod 400 workshop-keypair-west.pem ssh -i workshop-keypair-west.pem ubuntu@\u0026lt;IP-Private-Database-Router\u0026gt; Káº¿t luáº­n Viá»‡c triá»ƒn khai AWS Transit Gateway Ä‘Ã£ chá»©ng minh Ä‘Æ°á»£c nhá»¯ng Æ°u Ä‘iá»ƒm vÆ°á»£t trá»™i trong viá»‡c Ä‘Æ¡n giáº£n hÃ³a káº¿t ná»‘i máº¡ng giá»¯a nhiá»u VPC, Ä‘áº·c biá»‡t lÃ  khi so sÃ¡nh vá»›i cÃ¡c mÃ´ hÃ¬nh truyá»n thá»‘ng nhÆ° Hub-and-Spoke hoáº·c Full Meshed.\nVá»›i chá»‰ má»™t káº¿t ná»‘i duy nháº¥t tá»« má»—i VPC Ä‘áº¿n Transit Gateway, kiáº¿n trÃºc trá»Ÿ nÃªn:\nDá»… má»Ÿ rá»™ng hÆ¡n khi thÃªm má»›i VPC hoáº·c tÃ i khoáº£n,\nDá»… quáº£n trá»‹ hÆ¡n nhá» cáº¥u hÃ¬nh Ä‘á»‹nh tuyáº¿n táº­p trung,\nVÃ  an toÃ n hÆ¡n thÃ´ng qua kiá»ƒm soÃ¡t lÆ°u lÆ°á»£ng máº¡ng á»Ÿ má»©c Transit Gateway Route Table.\nNgoÃ i ra, kháº£ nÄƒng há»— trá»£ Ä‘á»‹nh tuyáº¿n chuyá»ƒn tiáº¿p (transitive routing) giÃºp kháº¯c phá»¥c hoÃ n toÃ n háº¡n cháº¿ lá»›n nháº¥t cá»§a VPC Peering, Ä‘á»“ng thá»i chuáº©n bá»‹ sáºµn cho cÃ¡c tÃ¬nh huá»‘ng kiáº¿n trÃºc phá»©c táº¡p hÆ¡n nhÆ° multi-region, multi-account, hoáº·c hybrid cloud.\n"},{"uri":"/6-clean/","title":"Dá»n Dáº¹p TÃ i NguyÃªn","tags":[],"description":"","content":"Tá»•ng quan vá» dá»n dáº¹p âš ï¸ Warning: Äá»ƒ trÃ¡nh phÃ¡t sinh chi phÃ­ khÃ´ng cáº§n thiáº¿t, báº¡n cáº§n xÃ³a táº¥t cáº£ tÃ i nguyÃªn theo thá»© tá»± sau. Do workshop sá»­ dá»¥ng 2 Region (us-east-1 vÃ  us-west-2), hÃ£y kiá»ƒm tra vÃ  xÃ³a tÃ i nguyÃªn á»Ÿ cáº£ hai vÃ¹ng\nXÃ³a Transit Gateway Attachments Truy cáº­p VPC Management Console Má»Ÿ VPC Management Console Chá»n Transit Gateway Attachments XÃ³a Attachments Chá»n táº¥t cáº£ Attachments liÃªn quan Nháº¥n Actions \u0026gt; Delete Äá»£i 1-2 phÃºt Ä‘á»ƒ hoÃ n táº¥t viá»‡c xÃ³a XÃ³a Transit Gateway Truy cáº­p VPC Management Console Má»Ÿ VPC Management Console Chá»n Transit Gateway XÃ³a Transit Gateway Chá»n táº¥t cáº£ Transit Gateway liÃªn quan Nháº¥n Actions \u0026gt; Delete Äá»£i 1-2 phÃºt Ä‘á»ƒ hoÃ n táº¥t viá»‡c xÃ³a âš ï¸ Warning: Báº¡n pháº£i Ä‘á»£i táº¥t cáº£ Transit Gateway Attachments Ä‘Æ°á»£c xÃ³a hoÃ n toÃ n trÆ°á»›c khi xÃ³a Transit Gateway.\nXÃ³a VPC Peering Connection Truy cáº­p VPC Management Console Má»Ÿ VPC Management Console Chá»n Peering Connections XÃ³a Peering Connections Chá»n táº¥t cáº£ Peering Connections liÃªn quan Nháº¥n Actions \u0026gt; Delete VPC Peering Conenction XÃ³a CloudFormation Stack Truy cáº­p CloudFormation Má»Ÿ CloudFormation Management Console Chá»n Stacks XÃ³a Stacks Chá»n táº¥t cáº£ Stacks liÃªn quan Nháº¥n Delete "},{"uri":"/categories/","title":"Categories","tags":[],"description":"","content":""},{"uri":"/tags/","title":"Tags","tags":[],"description":"","content":""}]