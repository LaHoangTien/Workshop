[{"uri":"/1-prerequisites/","title":"C√°c b∆∞·ªõc chu·∫©n b·ªã","tags":[],"description":"","content":"C√°c b∆∞·ªõc chu·∫©n b·ªã ‚ÑπÔ∏è Information: ·ªû ph·∫ßn n√†y, b·∫°n s·∫Ω s·ª≠ d·ª•ng CloudFormation Template ƒë·ªÉ t·∫°o h·∫° t·∫ßng m·∫°ng c√≥ k·∫øt n·ªëi v·ªõi Internet m·ªôt c√°ch thu·∫≠n ti·ªán r·ªìi sau ƒë√≥ t·∫°o th√™m hai m√°y ·∫£o ·ªü hai public subnet c·ªßa hai VPC.\nüí° Pro Tip: CloudFormation Template gi√∫p t·ª± ƒë·ªông h√≥a vi·ªác t·∫°o v√† qu·∫£n l√Ω t√†i nguy√™n AWS, gi√∫p ti·∫øt ki·ªám th·ªùi gian v√† gi·∫£m thi·ªÉu l·ªói khi tri·ªÉn khai.\nüîí Security Note: ƒê·∫£m b·∫£o r·∫±ng b·∫°n ƒë√£ c·∫•u h√¨nh ƒë√∫ng c√°c security groups v√† network ACLs ƒë·ªÉ b·∫£o v·ªá c√°c t√†i nguy√™n c·ªßa b·∫°n.\nY√™u c·∫ßu h·ªá th·ªëng T√†i kho·∫£n AWS: T√†i kho·∫£n AWS c√≥ quy·ªÅn truy c·∫≠p v√†o c√°c d·ªãch v·ª•: VPC, EC2, CloudFormation ƒê·ªß quy·ªÅn ƒë·ªÉ t·∫°o c√°c t√†i nguy√™n c·∫ßn thi·∫øt Ki·∫øn th·ª©c c∆° b·∫£n: Hi·ªÉu bi·∫øt v·ªÅ VPC v√† c√°c th√†nh ph·∫ßn c·ªßa n√≥ Ki·∫øn th·ª©c v·ªÅ networking c∆° b·∫£n Quen thu·ªôc v·ªõi AWS Management Console C√¥ng c·ª• c·∫ßn thi·∫øt: Tr√¨nh duy·ªát web hi·ªán ƒë·∫°i SSH client (MobaXterm) C√°c b∆∞·ªõc th·ª±c hi·ªán T·∫°o Key Pair Kh·ªüi t·∫°o CloudFormation Template "},{"uri":"/1-prerequisites/1.1-generate-keypair/","title":"Kh·ªüi t·∫°o Key pair","tags":[],"description":"","content":"T·∫°o Key Pair Trong workshop n√†y, ch√∫ng ta s·∫Ω s·ª≠ d·ª•ng N. Virginia (us-east-1) v√† Oregon (us-west-2). N·∫øu b·∫°n mu·ªën s·ª≠ d·ª•ng Region kh√°c , h√£y ƒë·∫£m b·∫£o chuy·ªÉn Region v·ªÅ Region b·∫°n mu·ªën s·ª≠ d·ª•ng khi t·∫°o c√°c t√†i nguy√™n li√™n quan t·ªõi workshop.\nTh·ª±c hi·ªán t·∫°o Key Pair ·ªü N. Virginia (us-east-1)\nƒêƒÉng nh·∫≠p v√†o AWS Management Console Chuy·ªÉn sang Region N. Virginia T√¨m EC2 Ch·ªçn EC2 Trong giao di·ªán EC2\nCh·ªçn Keypair Ch·ªçn Create key pair Trong giao di·ªán Create key pair\nName, nh·∫≠p workshop-keypair Key pair type, ch·ªçn RSA Private key file format, ch·ªçn .pem Ch·ªçn Create key pair T·∫°o key pair th√†nh c√¥ng ·ªü N. Virginia (us-east-1) Th·ª±c hi·ªán t·∫°o keypair ·ªü Oregon (us-west-2)\nChuy·ªÉn sang region Oregon (us-west-2) Ch·ªçn Create key pair Trong giao di·ªán Create key pair\nName, nh·∫≠p workshop-keypair-west Key pair type, ch·ªçn RSA Private key file format, ch·ªçn .pem Ch·ªçn Create key pair T·∫°o key pair th√†nh c√¥ng ·ªü Oregon (us-west-2) "},{"uri":"/2-architectural-model-hub-and-spoke/1-creat-vpc-peering/","title":"T·∫°o k·∫øt n·ªëi Peering","tags":[],"description":"","content":"T·∫°o k·∫øt n·ªëi Peering ‚ÑπÔ∏è Information: ·ªû B∆∞·ªõc n√†y, b·∫°n s·∫Ω t·∫°o k·∫øt n·ªëi VPC Peering (VPC Peering Connection).\nWebApp ‚Üî Hub Management ‚Üî Hub Hub ‚Üî Database üí° Pro Tip: VPC Peering cho ph√©p c√°c t√†i nguy√™n trong hai VPC kh√°c nhau giao ti·∫øp v·ªõi nhau nh∆∞ th·ªÉ ch√∫ng ƒëang n·∫±m trong c√πng m·ªôt m·∫°ng.\nƒêƒÉng nh·∫≠p v√†o AWS Management Console\nT√¨m VPC Ch·ªçn VPC Trong giao di·ªán VPC.\nCh·ªçn Peering Connections Ch·ªçn Create Peering Connection Trong giao di·ªán Create Peering Connection\nNh·∫≠p Name Hub-to-WebApp Ch·ªçn VPC ID (Requester) Hub-vpc Ch·ªçn My account Ch·ªçn This Region (us-east-1) Ch·ªçn VPC ID (Accepter) Web-App-vpc Ch·ªçn Creat peering connection Accept request cho Peering Connection\nCh·ªçn Actions Ch·ªçn Accept request Ti·∫øp t·ª•c l·∫≠p l·∫°i c√°c b∆∞·ªõc tr√™n v·ªõi Hub-to-Management Ch·ªçn Actions Ch·ªçn Accept request Ti·∫øp t·ª•c t·∫°o Peering Cross-region gi·ªØa Hub v√† Database.\n6.1. L·∫•y ID Database-vpc.\nChuy·ªÉn sang region Oregon (us-west-2) Ch·ªçn Your VPC Copy VPC ID Database-vpc 6.2. T·∫°o Peering Cross-region.\nQuay v·ªÅ N. Virginia (us-east-1) Ch·ªçn Peering Connections Ch·ªçn Create Peering Connection Nh·∫≠p Name Hub-to-Database-CrossRegion Ch·ªçn VPC ID (Requester) Hub-vpc Ch·ªçn My account Ch·ªçn Another Region Ch·ªçn Oregon (us-west-2) D√°n VPC ID Database-vpc ƒë√£ copy t·ª´ Oregon (us-west-2) Ch·ªçn Creat peering connection 6.3. Accept request cho Hub-to-Database-CrossRegion.\nChuy·ªÉn sang region Oregon (us-west-2) Ch·ªçn Actions Ch·ªçn Accept request Ki·ªÉm tra k·∫øt qu·∫£.\nQuay v·ªÅ N. Virginia (us-east-1), s·∫Ω th·∫•y 3 Peering Connection ƒë∆∞·ª£c t·∫°o. "},{"uri":"/3-solution-1/1-creat-vpc-peering/","title":"T·∫°o k·∫øt n·ªëi Peering","tags":[],"description":"","content":"T·∫°o k·∫øt n·ªëi Peering ‚ÑπÔ∏è Information: ·ªû B∆∞·ªõc n√†y, b·∫°n s·∫Ω t·∫°o k·∫øt n·ªëi VPC Peering (VPC Peering Connection).\nWebApp ‚Üî Hub Management ‚Üî Hub Hub ‚Üî Database üí° Pro Tip: VPC Peering cho ph√©p c√°c t√†i nguy√™n trong hai VPC kh√°c nhau giao ti·∫øp v·ªõi nhau nh∆∞ th·ªÉ ch√∫ng ƒëang n·∫±m trong c√πng m·ªôt m·∫°ng.\nƒêƒÉng nh·∫≠p v√†o AWS Management Console\nT√¨m VPC Ch·ªçn VPC Trong giao di·ªán VPC.\nCh·ªçn Peering Connections Ch·ªçn Create Peering Connection Trong giao di·ªán Create Peering Connection\nNh·∫≠p Name WebApp-to-Management-Direct Ch·ªçn VPC ID (Requester) Web-App-vpc Ch·ªçn My account Ch·ªçn This Region (us-east-1) Ch·ªçn VPC ID (Accepter) Management-vpc Ch·ªçn Creat peering connection Accept request cho Peering Connection\nCh·ªçn Actions Ch·ªçn Accept request Ti·∫øp t·ª•c t·∫°o Peering Cross-region gi·ªØa WebApp v√† Database.\n5.1. L·∫•y ID Database-vpc.\nChuy·ªÉn sang region Oregon (us-west-2) Ch·ªçn Your VPC Copy VPC ID Database-vpc 5.2. T·∫°o Peering Cross-region.\nQuay v·ªÅ N. Virginia (us-east-1) Ch·ªçn Peering Connections Ch·ªçn Create Peering Connection Nh·∫≠p Name WebApp-to-Database-Direct Ch·ªçn VPC ID (Requester) WebApp-vpc Ch·ªçn My account Ch·ªçn Another Region Ch·ªçn Oregon (us-west-2) D√°n VPC ID Database-vpc ƒë√£ copy t·ª´ Oregon (us-west-2) Ch·ªçn Creat peering connection 5.3. Accept request cho Hub-to-Database-CrossRegion.\nChuy·ªÉn sang region Oregon (us-west-2) Ch·ªçn Actions Ch·ªçn Accept request L·∫∑p l·∫°i c√°c b∆∞·ªõc gi·ªØa Management v√† Database v·ªõi name WebApp-to-Database-Direct.\nKi·ªÉm tra k·∫øt qu·∫£.\nQuay v·ªÅ N. Virginia (us-east-1), s·∫Ω th·∫•y 3 Peering Connection m·ªõi ƒë√£ ƒë∆∞·ª£c t·∫°o. "},{"uri":"/4-solution-2/1-creat-transit-gateways/","title":"T·∫°o Transit Gateway","tags":[],"description":"","content":"T·∫°o Transit gateways ‚ÑπÔ∏è Information: Trong ph·∫ßn n√†y, b·∫°n s·∫Ω t·∫°o m·ªôt AWS Transit Gateway ƒë·ªÉ l√†m hub trung t√¢m k·∫øt n·ªëi c√°c VPC.\nT·∫°o Transit gateways cho region N. Virginia (us-east-1) ƒêƒÉng nh·∫≠p v√†o AWS Management Console t·∫°i region N. Virginia (us-east-1)\nT√¨m VPC Ch·ªçn VPC Trong giao di·ªán VPC.\nCh·ªçn Transit gateways Ch·ªçn Create transit gateway Trong giao di·ªán Create transit gateway\nNh·∫≠p Name TGW-east Nh·∫≠p Desciption TGW-east Nh·∫≠p ASN 64512 Tick ch·ªçn nh∆∞ h√¨nh Ch·ªçn Creat transit gateway T·∫°o Transit gateways cho region Oregon (us-west-2) Trong giao di·ªán VPC.\nChuy·ªÉn sang region Oregon (us-west-2) Ch·ªçn Transit gateways Ch·ªçn Create transit gateway Trong giao di·ªán Create transit gateway\nNh·∫≠p Name TGW-west Nh·∫≠p Desciption TGW-west Nh·∫≠p ASN 64513 Tick ch·ªçn nh∆∞ h√¨nh Ch·ªçn Creat transit gateway "},{"uri":"/","title":"VPC Peering Advanced Patterns","tags":[],"description":"","content":"Workshop VPC Peering Advanced Patterns T·ªïng quan Theo m·∫∑c ƒë·ªãnh, c√°c VPC (Virtual Private Cloud) trong AWS l√† ho√†n to√†n c√°ch ly v·ªõi nhau. C√°c t√†i nguy√™n nh∆∞ EC2 ho·∫∑c RDS trong m·ªôt VPC kh√¥ng th·ªÉ giao ti·∫øp tr·ª±c ti·∫øp v·ªõi t√†i nguy√™n trong m·ªôt VPC kh√°c n·∫øu kh√¥ng c√≥ k·∫øt n·ªëi m·∫°ng r√µ r√†ng.\nTrong b√†i lab n√†y, b·∫°n s·∫Ω th·ª±c hi·ªán k·∫øt n·ªëi VPC Peering gi·ªØa c√°c VPC th√¥ng qua m√¥ h√¨nh Hub-and-Spoke, nh·∫±m cho ph√©p c√°c t√†i nguy√™n trong c√°c VPC con c√≥ th·ªÉ li√™n l·∫°c gi√°n ti·∫øp th√¥ng qua m·ªôt VPC trung t√¢m (Hub VPC).\nƒê√¢y l√† b∆∞·ªõc ƒë·∫ßu ti√™n ƒë·ªÉ hi·ªÉu r√µ ki·∫øn tr√∫c m·∫°ng ph√¢n t√°n v√† kh·∫£ nƒÉng m·ªü r·ªông trong m√¥i tr∆∞·ªùng ƒëa t√†i nguy√™n AWS.\nM√¥ h√¨nh ki·∫øn tr√∫c ban ƒë·∫ßu: Hub-and-Spoke Ch√∫ng ta s·∫Ω t·∫°o ra 4 VPC:\nWebApp VPC (us-east-1) Management VPC (us-east-1) Hub VPC (us-east-1) Database VPC (us-west-2) Sau ƒë√≥, thi·∫øt l·∫≠p c√°c k·∫øt n·ªëi VPC Peering t·ª´ c√°c Spoke VPC ƒë·∫øn Hub VPC.\nL∆∞u √Ω: Vi·ªác k·∫øt n·ªëi VPC Peering l√† point-to-point v√† kh√¥ng h·ªó tr·ª£ ƒë·ªãnh tuy·∫øn xuy√™n ti·∫øp (transitive routing).\nV·∫•n ƒë·ªÅ g·∫∑p ph·∫£i: Kh√¥ng h·ªó tr·ª£ Transitive Routing Trong m√¥ h√¨nh tr√™n:\nWebApp VPC c√≥ th·ªÉ k·∫øt n·ªëi v·ªõi Database VPC th√¥ng qua Hub? Kh√¥ng. M·∫∑c d√π c·∫£ hai ƒë·ªÅu k·∫øt n·ªëi v·ªõi Hub, nh∆∞ng do Peering kh√¥ng h·ªó tr·ª£ ƒë·ªãnh tuy·∫øn xuy√™n ti·∫øp, c√°c g√≥i tin t·ª´ WebApp VPC kh√¥ng th·ªÉ ƒëi qua Hub VPC ƒë·ªÉ ƒë·∫øn Database VPC. ƒê√¢y ch√≠nh l√† gi·ªõi h·∫°n c·ªßa VPC Peering connection.\nGi·∫£i ph√°p 1: Fully Meshed Peering Trong m√¥ h√¨nh n√†y, m·ªói VPC s·∫Ω t·∫°o m·ªôt k·∫øt n·ªëi Peering v·ªõi t·∫•t c·∫£ c√°c VPC c√≤n l·∫°i. ƒêi·ªÅu n√†y cho ph√©p c√°c VPC giao ti·∫øp tr·ª±c ti·∫øp m√† kh√¥ng ph·ª• thu·ªôc v√†o routing qua Hub.\nV·ªõi 4 VPC, b·∫°n c·∫ßn t·∫°o 6 k·∫øt n·ªëi Peering:\nWebApp ‚Üî Management WebApp ‚Üî Hub WebApp ‚Üî Database Management ‚Üî Hub Management ‚Üî Database Hub ‚Üî Database ‚û°Ô∏è ∆Øu ƒëi·ªÉm:\nƒê·∫£m b·∫£o m·ªçi VPC c√≥ th·ªÉ giao ti·∫øp tr·ª±c ti·∫øp Kh√¥ng ph·ª• thu·ªôc v√†o transitive routing ‚û°Ô∏è Nh∆∞·ª£c ƒëi·ªÉm:\nQu·∫£n l√Ω ph·ª©c t·∫°p khi s·ªë l∆∞·ª£ng VPC tƒÉng Chi ph√≠ v√† c·∫•u h√¨nh routing table tƒÉng theo s·ªë k·∫øt n·ªëi Gi·∫£i ph√°p 2: AWS Transit Gateway (TGW) TGW cho ph√©p k·∫øt n·ªëi nhi·ªÅu VPC th√¥ng qua m·ªôt trung t√¢m k·∫øt n·ªëi t·∫≠p trung, cho ph√©p transitive routing t·ª± nhi√™n. M·ªói VPC ch·ªâ c·∫ßn g·∫Øn v√†o Transit Gateway, v√† b·∫°n c√≥ th·ªÉ ƒë·ªãnh tuy·∫øn qua l·∫°i gi·ªØa t·∫•t c·∫£ c√°c VPC.\n‚û°Ô∏è ∆Øu ƒëi·ªÉm:\nƒê∆°n gi·∫£n h√≥a routing H·ªó tr·ª£ m·ªü r·ªông quy m√¥ l·ªõn Cho ph√©p transitive routing ‚û°Ô∏è Nh∆∞·ª£c ƒëi·ªÉm:\nTGW l√† d·ªãch v·ª• tr·∫£ ph√≠ ($/attachment/hour) Kh√¥ng h·ªó tr·ª£ t·∫•t c·∫£ region, c·∫ßn c√¢n nh·∫Øc cho cross-region Main Content C√°c b∆∞·ªõc chu·∫©n b·ªã M√¥ h√¨nh ki·∫øn tr√∫c: Hub-and-Spoke Gi·∫£i Ph√°p 1: Fully Meshed Peering Gi·∫£i ph√°p 2: AWS Transit Gateway C·∫•u H√¨nh Gi√°m S√°t D·ªçn D·∫πp T√†i Nguy√™n "},{"uri":"/3-solution-1/2-route-tables/","title":"C·∫≠p nh·∫≠t Route tables","tags":[],"description":"","content":"C·∫•u h√¨nh Route tables ‚ÑπÔ∏è Information: Trong ph·∫ßn n√†y, ta s·∫Ω ch·ªâ c·∫≠p nh·∫≠t Route Table cho Management-vpc, WebApp-vpc, Database-vpc v√¨ Hub-vpc ƒë√£ ƒë∆∞·ª£c c·∫•u h√¨nh tr·ª±c ti·∫øp ƒë·∫øn 3 VPC c√≤n l·∫°i\nC·∫≠p nh·∫≠t Route Table cho Management-vpc M·ªü VPC Management Console t·∫°i N. Virginia (us-east-1)\nCh·ªçn Route Tables Ch·ªçn Management-private-rt Nh·∫•n Edit routes Th√™m route.\nCh·ªçn Add route C·∫•u h√¨nh Destination v√† Target theo ·∫£nh Ch·ªçn Save changes L·∫∑p l·∫°i c√°c b∆∞·ªõc v·ªõi Management-public-rt\nC·∫•u h√¨nh Route Table cho Webapp-vpc M·ªü VPC Management Console t·∫°i N. Virginia (us-east-1) Ch·ªçn Route Tables Ch·ªçn Webapp-private-rt Nh·∫•n Edit routes Th√™m route. Ch·ªçn Add route C·∫•u h√¨nh Destination v√† Target theo ·∫£nh Ch·ªçn Save changes L·∫∑p l·∫°i c√°c b∆∞·ªõc v·ªõi Webapp-public-rt\nC·∫•u h√¨nh Route Table cho Database-vpc M·ªü VPC Management Console t·∫°i Oregon (us-west-2) Ch·ªçn Route Tables Ch·ªçn Database-private-rt Nh·∫•n Edit routes Th√™m route. Ch·ªçn Add route C·∫•u h√¨nh Destination v√† Target theo ·∫£nh Ch·ªçn Save changes L·∫∑p l·∫°i c√°c b∆∞·ªõc v·ªõi Database-public-rt\n"},{"uri":"/2-architectural-model-hub-and-spoke/2-route-tables/","title":"C·∫•u h√¨nh Route tables","tags":[],"description":"","content":"C·∫•u h√¨nh Route tables ‚ÑπÔ∏è Information: Trong ph·∫ßn n√†y, b·∫°n s·∫Ω c·∫•u h√¨nh Route Table cho t·ª´ng VPC.\n‚ö†Ô∏è Warning: Ch√∫ng ta c√≥ t·ªïng c·ªông 8 Route Table ( 6 t·ª´ region N. Virginia (us-east-1) v√† 2 t·ª´ Oregon (us-west-2)), C√°c Route Table ƒë∆∞·ª£c ƒë·∫∑t theo t√™n VPC ƒë·ªÉ d·ªÖ theo d√µi v√† h√£y ƒë·∫£m b·∫£o th·ª±c hi·ªán ƒë·∫ßy ƒë·ªß c√°c b∆∞·ªõc ki·ªÉm tra ƒë·ªÉ x√°c nh·∫≠n k·∫øt n·ªëi ho·∫°t ƒë·ªông ch√≠nh x√°c.\nRegion N. Virginia (us-east-1)\nHub-private-rt, Hub-public-rt = Route Table c·ªßa Hub-vpc Management-private-rt, Management-public-rt = Route Table c·ªßa Management-vpc WebApp-private-rt, WebApp-public-rt = Route Table c·ªßa WebApp-vpc Region Oregon (us-west-2)\nDatabase-private-rt, Database-public-rt = Route Table c·ªßa Database-vpc C·∫•u h√¨nh Route Table cho Hub-vpc Ch·ªçn Route Table.\nM·ªü VPC Management Console t·∫°i N. Virginia (us-east-1) Ch·ªçn Route Tables Ch·ªçn Hub-private-rt Nh·∫•n Edit routes Th√™m route.\nCh·ªçn Add route C·∫•u h√¨nh Destination v√† Target theo ·∫£nh Ch·ªçn Save changes X√°c nh·∫≠n route\nKi·ªÉm tra route m·ªõi ƒë√£ ƒë∆∞·ª£c th√™m L·∫∑p l·∫°i c√°c b∆∞·ªõc v·ªõi Hub-public-rt\nC·∫•u h√¨nh Route Table cho Management-vpc Ch·ªçn Route Table. M·ªü VPC Management Console t·∫°i N. Virginia (us-east-1) Ch·ªçn Route Tables Ch·ªçn Management-private-rt Nh·∫•n Edit routes Th√™m route. Ch·ªçn Add route C·∫•u h√¨nh Destination v√† Target theo ·∫£nh Ch·ªçn Save changes X√°c nh·∫≠n route Ki·ªÉm tra route m·ªõi ƒë√£ ƒë∆∞·ª£c th√™m L·∫∑p l·∫°i c√°c b∆∞·ªõc v·ªõi Management-public-rt\nC·∫•u h√¨nh Route Table cho Webapp-vpc Ch·ªçn Route Table. M·ªü VPC Management Console t·∫°i N. Virginia (us-east-1) Ch·ªçn Route Tables Ch·ªçn Webapp-private-rt Nh·∫•n Edit routes Th√™m route. Ch·ªçn Add route C·∫•u h√¨nh Destination v√† Target theo ·∫£nh Ch·ªçn Save changes L·∫∑p l·∫°i c√°c b∆∞·ªõc v·ªõi Webapp-public-rt\nC·∫•u h√¨nh Route Table cho Database-vpc Ch·ªçn Route Table. M·ªü VPC Management Console t·∫°i Oregon (us-west-2) Ch·ªçn Route Tables Ch·ªçn Database-private-rt Nh·∫•n Edit routes Th√™m route. Ch·ªçn Add route C·∫•u h√¨nh Destination v√† Target theo ·∫£nh Ch·ªçn Save changes L·∫∑p l·∫°i c√°c b∆∞·ªõc v·ªõi Database-public-rt\nKi·ªÉm tra c·∫•u h√¨nh Security Group Ki·ªÉm tra Database-SG Ch·ªâ cho ph√©p SSH t·ª´ m√°y Management Ki·ªÉm tra Webapp-SG Ch·ªâ cho ph√©p SSH t·ª´ m√°y Management Ki·ªÉm tra Management-SG Ch·ªâ cho ph√©p SSH t·ª´ IP c·ªßa b·∫°n **Ki·ªÉm tra Hub-SG Ch·ªâ cho ph√©p SSH t·ª´ m√°y Management "},{"uri":"/1-prerequisites/1.2-initialize-cloudformation/","title":"Kh·ªüi t·∫°o CloudFormation Template","tags":[],"description":"","content":" Tr∆∞·ªõc h·∫øt b·∫°n ph·∫£i t·∫£i CloudFormation Template v√† ti·∫øn h√†nh gi·∫£i n√©n.\nKh·ªüi t·∫°o Stack cho region Oregon (us-west-2) V·∫´n ·ªü region Oregon (us-west-2) truy c·∫≠p ƒë·∫øn CloudFormation Management Conole b·∫±ng c√°ch g√µ CloudFormation v√†o thanh t√¨m ki·∫øm. Trong giao di·ªán CloudFormation\nCh·ªçn Stacks Ch·ªçn Create stack Trong giao di·ªán Create stack\nCh·ªçn Choose an existing template Ch·ªçn Upload a template file Ch·ªçn Choose file ch·ªçn vpc-peering-database-template.yaml t·ª´ file ƒë√£ t·∫£i v·ªÅ tr∆∞·ªõc ƒë√≥ Ch·ªçn Next Trong trang Specify stack details\nNh·∫≠p t√™n stack FCJ-Workshop-West Ch·ªçn Instance type Ch·ªçn Keypair c·ªßa b·∫°n Ch·ªçn Next Ti·∫øp t·ª•c Next v√† ch·ªçn Submit Kh·ªüi t·∫°o stack FCJ-Workshop-West th√†nh c√¥ng Ki·ªÉm tra EC2 Intances\nNh·∫≠p EC2 tr√™n thanh t√¨m ki·∫øm Ch·ªçn EC2 Trong giao di·ªán EC2\nCh·ªçn Intances s·∫Ω th·∫•y Database-Server ƒë√£ ƒë∆∞·ª£c t·∫°o Kh·ªüi t·∫°o Stack cho region N. Virginia (us-east-1) Chuy·ªÉn sang region N. Virginia (us-east-1) truy c·∫≠p ƒë·∫øn CloudFormation Management Conole Trong giao di·ªán CloudFormation\nCh·ªçn Stacks Ch·ªçn Create stack Trong giao di·ªán Create stack\nCh·ªçn Choose an existing template Ch·ªçn Upload a template file Ch·ªçn Choose file ch·ªçn vpc-peering-main-template.yaml t·ª´ file ƒë√£ t·∫£i v·ªÅ tr∆∞·ªõc ƒë√≥ Ch·ªçn Next Trong trang Specify stack details\nNh·∫≠p t√™n stack FCJ-Workshop-East Ch·ªçn Keypair c·ªßa b·∫°n Nh·∫≠p IP SSH c·ªßa b·∫°n (l√† IP m√°y c·ªßa b·∫°n d√πng ƒë·ªÉ truy c·∫≠p v√†o m√°y ·∫£o) Ch·ªçn Next M·ªü Command Prompt tr√™n m√°y b·∫°n v√† nh·∫≠p curl ipinfo.io/ip ƒë·ªÉ l·∫•y IP SSH access\nTi·∫øp t·ª•c Next v√† ch·ªçn Submit Kh·ªüi t·∫°o stack FCJ-Workshop-East th√†nh c√¥ng Ti·∫øp t·ª•c t·∫°o stack th·ª© 2 cho region N. Virginia (us-east-1)\nCh·ªçn Create stack Ch·ªçn With new resources (standard) Trong giao di·ªán Create stack\nCh·ªçn Choose an existing template Ch·ªçn Upload a template file Ch·ªçn Choose file ch·ªçn vpc-peering-instances-template.yaml t·ª´ file ƒë√£ t·∫£i v·ªÅ tr∆∞·ªõc ƒë√≥ Ch·ªçn Next Trong trang Specify stack details\nNh·∫≠p t√™n stack FCJ-Workshop-East-2\nCh·ªçn InstanceType\nCh·ªçn Keypair c·ªßa b·∫°n\nNh·∫≠p MainStackName FCJ-Workshop-East\nNh·∫≠p IP SSH c·ªßa b·∫°n (l√† IP m√°y c·ªßa b·∫°n d√πng ƒë·ªÉ truy c·∫≠p v√†o m√°y ·∫£o)\nCh·ªçn Next Ti·∫øp t·ª•c Next v√† ch·ªçn Submit\nKh·ªüi t·∫°o stack FCJ-Workshop-East-2 th√†nh c√¥ng Ki·ªÉm tra EC2 Intances\nNh·∫≠p EC2 tr√™n thanh t√¨m ki·∫øm Ch·ªçn EC2 Trong giao di·ªán EC2\nCh·ªçn Intances s·∫Ω th·∫•y 3 Intances ƒë√£ ƒë∆∞·ª£c t·∫°o Ch·ªçn Management-Bastion Copy Public IP ƒê·∫øn th∆∞ m·ª•c b·∫°n ƒë√£ l∆∞u Keypair ·ªü b∆∞·ªõc tr∆∞·ªõc\nCh·∫°y command prompt t·∫°o th∆∞ m·ª•c ƒë√≥ Nh·∫≠p scp -i \u0026lt;key name truy c·∫≠p\u0026gt; \u0026lt;key name c·∫ßn g·ª≠i\u0026gt; ec2-user@\u0026lt;public ip Management\u0026gt;: B∆∞·ªõc n√†y d√πng ƒë·ªÉ g·ª≠i 2 file keypair v√†o m√†y ·∫£o Management-Bastion thu·∫≠n ti·ªán cho c√°c b∆∞·ªõc ti·∫øp theo\n"},{"uri":"/2-architectural-model-hub-and-spoke/","title":"M√¥ h√¨nh ki·∫øn tr√∫c: Hub-and-Spoke","tags":[],"description":"","content":"Gi·ªõi thi·ªáu m√¥ h√¨nh Ki·∫øn tr√∫c Hub-and-Spoke M√¥ h√¨nh Hub-and-Spoke l√† m·ªôt ki·∫øn tr√∫c m·∫°ng ph·ªï bi·∫øn ƒë∆∞·ª£c √°p d·ª•ng r·ªông r√£i trong m√¥i tr∆∞·ªùng Cloud ƒë·ªÉ t·ªï ch·ª©c, ph√¢n t√°ch v√† ki·ªÉm so√°t l∆∞u l∆∞·ª£ng m·∫°ng gi·ªØa c√°c h·ªá th·ªëng. Trong ki·∫øn tr√∫c n√†y, m·ªôt VPC trung t√¢m ƒë∆∞·ª£c g·ªçi l√† Hub ƒë√≥ng vai tr√≤ l√†m ƒëi·ªÉm ƒëi·ªÅu ph·ªëi ch√≠nh, trong khi c√°c VPC c√≤n l·∫°i ƒë∆∞·ª£c g·ªçi l√† Spoke, k·∫øt n·ªëi tr·ª±c ti·∫øp v·ªõi Hub nh∆∞ng kh√¥ng k·∫øt n·ªëi ngang h√†ng v·ªõi nhau.\nTrong workshop n√†y, m√¥ h√¨nh ƒë∆∞·ª£c √°p d·ª•ng v·ªõi:\nHub VPC: Trung t√¢m ƒë·ªãnh tuy·∫øn v√† gi√°m s√°t l∆∞u l∆∞·ª£ng. WebApp VPC: M√¥ ph·ªïng ch·∫°y ·ª©ng d·ª•ng frontend. Management VPC: Truy c·∫≠p qu·∫£n tr·ªã v√† v·∫≠n h√†nh. Database VPC (kh√°c v√πng - cross-region): L∆∞u tr·ªØ d·ªØ li·ªáu backend. C√°c b∆∞·ªõc th·ª±c hi·ªán T·∫°o k·∫øt n·ªëi Peering C·∫•u h√¨nh Route tables Ki·ªÉm tra k·∫øt n·ªëi "},{"uri":"/4-solution-2/2-creat-transit-gateways-attachments/","title":"T·∫°o Transit Gateway Attachments","tags":[],"description":"","content":"T·∫°o Transit Gateway Attachments ‚ÑπÔ∏è Information: Trong ph·∫ßn n√†y, b·∫°n s·∫Ω c·∫•u h√¨nh c√°c Transit Gateway Attachments ƒë·ªÉ k·∫øt n·ªëi c√°c VPC v·ªõi Transit Gateway ƒë√£ t·∫°o.\nT·∫°o Transit Gateway Attachments Peering-East-West ƒêƒÉng nh·∫≠p v√†o VPC Management Console t·∫°i region N. Virginia (us-east-1)\nM·ªü VPC Management Console Ch·ªçn Transit Gateway Attachments Ch·ªçn Create Transit Gateway Attachment C·∫•u h√¨nh Transit Gateway Attachment.\nName Tag: TGW-Peering-East-West Transit Gateway ID: Ch·ªçn ID c·ªßa Transit Gateway ƒë√£ t·∫°o Attachment type: Ch·ªçn Peering Connection Account: Ch·ªçn My Account Region: Ch·ªçn Oregon (us-west-2) Ch·ªçn Transit Gateway c·ªßa Oregon (us-west-2) Ch·ªçn Create transit gateway attachment X√°c th·ª±c Transit Gateway Attachment\nChuy·ªÉn sang Oregon (us-west-2) Ch·ªçn Attachments v·ª´a t·∫°o Ch·ªçn Actions Ch·ªçn Accept transit gateway attachment V√¨ ƒë√¢y l√† Attachment Peering gi·ªØa N. Virginia (us-east-1) v√† Oregon (us-west-2) N√™n c·∫ßn x√°c th·ª±c Attachment\nT·∫°o Transit Gateway Attachments Database T·∫°o Transit Gateway Attachments Database t·∫°i region Oregon (us-west-2).\n·ªû l·∫°i region Oregon (us-west-2) Ch·ªçn Create Transit Gateway Attachment C·∫•u h√¨nh Transit Gateway Attachment.\nName Tag: Database-TGW-Attachment Transit Gateway ID: Ch·ªçn ID c·ªßa Transit Gateway ƒë√£ t·∫°o Attachment type: Ch·ªçn VPC Ch·ªçn DNS support Ch·ªçn Security Group Referencing support Ch·ªçn VPC ID Database-vpc Ch·ªçn Create transit gateway attachment T·∫°o Transit Gateway Attachments Hub T·∫°o Transit Gateway Attachments Hub t·∫°i region N. Virginia (us-east-1).\nQuay v·ªÅ region N. Virginia (us-east-1) Ch·ªçn Create Transit Gateway Attachment C·∫•u h√¨nh Transit Gateway Attachment.\nName Tag: Hub-TGW-Attachment Transit Gateway ID: Ch·ªçn ID c·ªßa Transit Gateway ƒë√£ t·∫°o Attachment type: Ch·ªçn VPC Ch·ªçn DNS support Ch·ªçn Security Group Referencing support Ch·ªçn VPC ID Hub-vpc Ch·ªçn Create transit gateway attachment T·∫°o Transit Gateway Attachments WebApp v√† Management L·∫∑p l·∫°i c√°c b∆∞·ªõc t·∫°o T·∫°o Transit Gateway Attachments Hub cho WebApp-TGW-Attachment v√† Management-TGW-Attachment "},{"uri":"/4-solution-2/3-config-transit-gateways-route-table/","title":"C·∫•u H√¨nh Transit Gateway Route Tables","tags":[],"description":"","content":"T·ªïng quan Transit Gateway v·ªÅ Route Tables ‚ÑπÔ∏è Information: Trong ph·∫ßn n√†y, b·∫°n s·∫Ω c·∫•u h√¨nh Route Table cho Transit Gateway ƒë·ªÉ qu·∫£n l√Ω lu·ªìng traffic gi·ªØa c√°c VPC.\nC·∫•u h√¨nh Transit Gateway Route Table t·∫°i region N. Virginia (us-east-1) üìå M·ª•c ƒë√≠ch: Cho ph√©p VPC ·ªü us-east-1 ƒë·ªãnh tuy·∫øn traffic t·ªõi Database VPC qua TGW peering.\nƒêƒÉng nh·∫≠p v√†o VPC Management Console t·∫°i region N. Virginia (us-east-1)\nM·ªü VPC Management Console Ch·ªçn Transit Gateway Route Tables Ch·ªçn Route Tables ƒë√£ ƒë∆∞·ª£c t·∫°o t·ª´ Transit Gateway Ch·ªçn tab Routes Ch·ªçn Creat static route. T·∫°o Static route.\nCIDR: 10.2.0.0/16 CIDR block c·ªßa Database-vpc Choose attachment: Ch·ªçn attachment TWG-Peering-East-West Ch·ªçn Creat static route C·∫•u h√¨nh Transit Gateway Route Table t·∫°i region Oregon (us-west-2) üìå M·ª•c ƒë√≠ch: Cho ph√©p Database-vpc ƒë·ªãnh tuy·∫øn traffic t·ªõi VPC trong us-east-1 qua TGW peering.\nChuy·ªÉn sang Oregon (us-west-2)\nCh·ªçn Route Tables ƒë√£ ƒë∆∞·ª£c t·∫°o t·ª´ Transit Gateway Ch·ªçn tab Routes Ch·ªçn Creat static route. T·∫°o Static route.\nCIDR: 10.1.0.0/16 CIDR block c·ªßa WebApp-vpc Choose attachment: Ch·ªçn attachment TWG-Peering-East-West Ch·ªçn Creat static route T·∫∑p l·∫°i c√°c b∆∞·ªõc cho CIDR block c·ªßa Hub-vpc 10.0.0.0/16 v√† Management-vpc 10.3.0.0/16. ‚úÖ ƒê√¢y l√† ph·∫ßn quan tr·ªçng ƒë·ªÉ ƒë·∫£m b·∫£o k·∫øt n·ªëi 2 chi·ªÅu ho·∫°t ƒë·ªông trong ki·∫øn tr√∫c multi-region!\n"},{"uri":"/3-solution-1/","title":"Gi·∫£i Ph√°p 1: Fully Meshed Peering","tags":[],"description":"","content":"Gi·ªõi thi·ªáu m√¥ h√¨nh Ki·∫øn tr√∫c Fully Meshed Peering M√¥ h√¨nh Full Meshed l√† m·ªôt ki·∫øn tr√∫c m·∫°ng trong ƒë√≥ m·ªçi VPC ƒë·ªÅu ƒë∆∞·ª£c k·∫øt n·ªëi tr·ª±c ti·∫øp v·ªõi nhau th√¥ng qua c√°c VPC Peering ri√™ng bi·ªát. Ki·∫øn tr√∫c n√†y lo·∫°i b·ªè ho√†n to√†n s·ª± ph·ª• thu·ªôc v√†o m·ªôt VPC trung t√¢m nh∆∞ trong m√¥ h√¨nh Hub-and-Spoke, gi√∫p ƒë·∫£m b·∫£o r·∫±ng m·ªçi VPC ƒë·ªÅu c√≥ th·ªÉ giao ti·∫øp v·ªõi nhau m√† kh√¥ng b·ªã gi·ªõi h·∫°n b·ªüi ƒë·ªãnh tuy·∫øn chuy·ªÉn ti·∫øp.\nTrong m√¥i tr∆∞·ªùng Cloud, ƒë·∫∑c bi·ªát l√† v·ªõi AWS, m√¥ h√¨nh Full Meshed th∆∞·ªùng ƒë∆∞·ª£c √°p d·ª•ng khi c·∫ßn:\nK·∫øt n·ªëi tr·ª±c ti·∫øp, hai chi·ªÅu gi·ªØa c√°c d·ªãch v·ª• ph√¢n b·ªë trong nhi·ªÅu VPC. T·ªëi ∆∞u h√≥a ƒë·ªô tr·ªÖ v√† lu·ªìng d·ªØ li·ªáu, tr√°nh ƒëi qua trung gian. TƒÉng t√≠nh s·∫µn s√†ng, kh√¥ng b·ªã ph·ª• thu·ªôc v√†o m·ªôt VPC trung t√¢m. Tuy nhi√™n, m√¥ h√¨nh n√†y c≈©ng c√≥ nh·ªØng nh∆∞·ª£c ƒëi·ªÉm nh·∫•t ƒë·ªãnh:\nƒê·ªô ph·ª©c t·∫°p qu·∫£n tr·ªã tƒÉng theo c·∫•p s·ªë nh√¢n khi s·ªë l∆∞·ª£ng VPC tƒÉng (n VPC s·∫Ω c·∫ßn n(n-1)/2 k·∫øt n·ªëi peering). Kh√≥ m·ªü r·ªông khi √°p d·ª•ng cho m√¥i tr∆∞·ªùng l·ªõn ho·∫∑c ƒëa v√πng (multi-region). TƒÉng r·ªßi ro b·∫£o m·∫≠t, do m·ªçi VPC ƒë·ªÅu c√≥ th·ªÉ tr·ª±c ti·∫øp truy c·∫≠p l·∫´n nhau n·∫øu kh√¥ng c·∫•u h√¨nh ƒë√∫ng Security Group v√† Route Table. C√°c b∆∞·ªõc th·ª±c hi·ªán T·∫°o k·∫øt n·ªëi Peering C·∫•u h√¨nh Route tables Ki·ªÉm tra k·∫øt n·ªëi "},{"uri":"/2-architectural-model-hub-and-spoke/3-check-result/","title":"Ki·ªÉm tra k·∫øt n·ªëi","tags":[],"description":"","content":"Ki·ªÉm tra k·∫øt n·ªëi ‚ÑπÔ∏è Information: Sau khi ho√†n t·∫•t vi·ªác tri·ªÉn khai m√¥ h√¨nh ki·∫øn tr√∫c Hub-and-Spoke v·ªõi c√°c k·∫øt n·ªëi VPC Peering c·∫ßn thi·∫øt, b∆∞·ªõc ti·∫øp theo l√† x√°c minh kh·∫£ nƒÉng giao ti·∫øp m·∫°ng gi·ªØa c√°c VPC ƒë·ªÉ ƒë·∫£m b·∫£o c·∫•u h√¨nh ƒë·ªãnh tuy·∫øn, b·∫£o m·∫≠t v√† Peering ƒë√£ ƒë√∫ng ch·ª©c nƒÉng.\nKi·ªÉm tra k·∫øt n·ªëi gi·ªØa c√°c VPC. K·∫øt n·ªëi SSH ƒë·∫øn EC2 trong Management-vpc Ping ƒë·∫øn IP private c·ªßa EC2 trong Hub-vpc Ping th√†nh c√¥ng v√¨ Management v√† Hub ƒë∆∞·ª£c thi·∫øt l·∫≠p Peering tr·ª±c ti·∫øp.\nTi·∫øp t·ª•c Ping ƒë·∫øn IP private c·ªßa EC2 trong Management-vpc v√† Database-vpc Ping kh√¥ng th√†nh c√¥ng v√¨ ƒë√¢y ch√≠nh l√† gi·ªõi h·∫°n c·ªßa VPC Peering, kh√¥ng h·ªó tr·ª£ ƒë·ªãnh tuy·∫øn chuy·ªÉn ti·∫øp (transitive). N·∫øu kh√¥ng thi·∫øt l·∫≠p Peering tr·ª±c ti·∫øp s·∫Ω kh√¥ng th·ªÉ giao ti·∫øp.\nSSH ƒë·∫øn EC2 trong Hub-vpc t·ª´ m√°y Management. chmod 400 workshop-keypair.pem ssh -i workshop-keypair.pem ec2-user@\u0026lt;IP-Private-Hub-Router\u0026gt; Ping ƒë√™n IP private c·ªßa c√°c EC2 c√≤n l·∫°i Kh√°c v·ªõi Management th√¨ Hub router ping ƒë∆∞·ª£c ƒë·∫øn t·∫•t c·∫£ c√°c m√°y v√¨ Hub ƒë∆∞·ª£c thi·∫øt l·∫≠p Peering tr·ª±c ti·∫øp ƒë·∫øn t·∫•t c·∫£ c√°c VPC\nK·∫øt lu·∫≠n Qua qu√° tr√¨nh ki·ªÉm tra, ta th·∫•y r·∫±ng m·∫∑c d√π c√°c k·∫øt n·ªëi peering gi·ªØa c√°c VPC trong m√¥ h√¨nh Hub-and-Spoke ƒë·ªÅu ho·∫°t ƒë·ªông ƒë√∫ng ch·ª©c nƒÉng, tuy nhi√™n m·ªôt h·∫°n ch·∫ø c·ªët l√µi c·ªßa VPC Peering l√† kh√¥ng h·ªó tr·ª£ ƒë·ªãnh tuy·∫øn chuy·ªÉn ti·∫øp (transitive routing).\nC·ª• th·ªÉ, khi Management VPC ƒë√£ k·∫øt n·ªëi v·ªõi Hub VPC v√† Hub VPC k·∫øt n·ªëi v·ªõi WebApp VPC, ta v·∫´n kh√¥ng th·ªÉ ping ho·∫∑c SSH tr·ª±c ti·∫øp t·ª´ Management sang WebApp n·∫øu kh√¥ng thi·∫øt l·∫≠p th√™m m·ªôt peering tr·ª±c ti·∫øp gi·ªØa hai VPC n√†y.\nüëâ T·ª´ ƒë√¢y, ch√∫ng ta ti·∫øn h√†nh ƒë√°nh gi√° v√† so s√°nh hai gi·∫£i ph√°p kh·∫Øc ph·ª•c v·∫•n ƒë·ªÅ kh√¥ng h·ªó tr·ª£ transitive routing:\nSolution 1. Fully Meshed Peering: Thi·∫øt l·∫≠p peering tr·ª±c ti·∫øp gi·ªØa t·∫•t c·∫£ c√°c VPC.\nSolution 2. AWS Transit Gateway: S·ª≠ d·ª•ng m·ªôt d·ªãch v·ª• trung t√¢m ƒë·ªÉ k·∫øt n·ªëi v√† ƒë·ªãnh tuy·∫øn to√†n b·ªô VPC.\nHai m√¥ h√¨nh n√†y s·∫Ω ƒë∆∞·ª£c tri·ªÉn khai v√† ƒë√°nh gi√° chi ti·∫øt trong c√°c b∆∞·ªõc ti·∫øp theo c·ªßa workshop.\n"},{"uri":"/3-solution-1/3-check-result/","title":"Ki·ªÉm tra k·∫øt n·ªëi","tags":[],"description":"","content":"Ki·ªÉm tra k·∫øt n·ªëi ‚ÑπÔ∏è Information: Sau khi ho√†n t·∫•t vi·ªác tri·ªÉn khai m√¥ h√¨nh ki·∫øn tr√∫c Hub-and-Spoke v·ªõi c√°c k·∫øt n·ªëi VPC Peering c·∫ßn thi·∫øt, b∆∞·ªõc ti·∫øp theo l√† x√°c minh kh·∫£ nƒÉng giao ti·∫øp m·∫°ng gi·ªØa c√°c VPC ƒë·ªÉ ƒë·∫£m b·∫£o c·∫•u h√¨nh ƒë·ªãnh tuy·∫øn, b·∫£o m·∫≠t v√† Peering ƒë√£ ƒë√∫ng ch·ª©c nƒÉng.\nKi·ªÉm tra k·∫øt n·ªëi gi·ªØa c√°c VPC.\nK·∫øt n·ªëi SSH ƒë·∫øn EC2 trong Management-vpc Ping ƒë·∫øn IP private c·ªßa EC2 trong Hub-vpc, Webapps-vpc v√† Database-vpc ƒê√£ Ping th√†nh c√¥ng t·∫•t c·∫£ VPC.\nSSH ƒë·∫øn EC2 trong Webapp-vpc t·ª´ m√°y Management.\nchmod 400 workshop-keypair.pem ssh -i workshop-keypair.pem ec2-user@\u0026lt;IP-Private-Webapp-Router\u0026gt; Ping ƒë√™n IP private c·ªßa c√°c EC2 c√≤n l·∫°i SSH ƒë·∫øn EC2 trong Database-vpc t·ª´ m√°y Management.\nchmod 400 workshop-keypair-west.pem ssh -i workshop-keypair-west.pem ubuntu@\u0026lt;IP-Private-Database-Router\u0026gt; K·∫øt lu·∫≠n Sau khi ho√†n t·∫•t tri·ªÉn khai m√¥ h√¨nh Full Meshed Peering, ch√∫ng ta c√≥ th·ªÉ nh·∫≠n th·∫•y r·∫±ng gi·∫£i ph√°p n√†y kh·∫Øc ph·ª•c ƒë∆∞·ª£c h·∫°n ch·∫ø v·ªÅ ƒë·ªãnh tuy·∫øn chuy·ªÉn ti·∫øp trong m√¥ h√¨nh Hub-and-Spoke. C√°c VPC hi·ªán t·∫°i c√≥ th·ªÉ giao ti·∫øp tr·ª±c ti·∫øp v·ªõi nhau, gi√∫p ƒë·∫£m b·∫£o k·∫øt n·ªëi to√†n ph·∫ßn gi·ªØa c√°c th√†nh ph·∫ßn trong h·ªá th·ªëng.\nTuy nhi√™n, m√¥ h√¨nh n√†y c≈©ng nhanh ch√≥ng b·ªôc l·ªô c√°c th√°ch th·ª©c th·ª±c t·∫ø khi √°p d·ª•ng ·ªü quy m√¥ l·ªõn:\nT·ªën c√¥ng qu·∫£n tr·ªã: M·ªói c·∫∑p VPC c·∫ßn m·ªôt k·∫øt n·ªëi peering ri√™ng, d·∫´n ƒë·∫øn s·ªë l∆∞·ª£ng k·∫øt n·ªëi v√† route table tƒÉng nhanh theo c·∫•p s·ªë nh√¢n.\nKh√≥ ki·ªÉm so√°t b·∫£o m·∫≠t: V·ªõi nhi·ªÅu k·∫øt n·ªëi ƒë·ªìng c·∫•p, vi·ªác c·∫•u h√¨nh v√† duy tr√¨ c√°c Security Group, NACL v√† Route Table tr·ªü n√™n ph·ª©c t·∫°p h∆°n.\nGi·ªõi h·∫°n v·ªÅ kh·∫£ nƒÉng m·ªü r·ªông: Trong m√¥i tr∆∞·ªùng multi-region ho·∫∑c c√≥ nhi·ªÅu t√†i kho·∫£n AWS (multi-account), ki·∫øn tr√∫c Full Mesh tr·ªü n√™n kh√≥ duy tr√¨ v√† d·ªÖ l·ªói c·∫•u h√¨nh.\nüëâCh√≠nh v√¨ v·∫≠y, trong ph·∫ßn ti·∫øp theo, ch√∫ng ta s·∫Ω ti·∫øp c·∫≠n gi·∫£i ph√°p t·ªëi ∆∞u h∆°n cho vi·ªác m·ªü r·ªông k·∫øt n·ªëi m·∫°ng gi·ªØa nhi·ªÅu VPC. ƒë√≥ l√† AWS Transit Gateway, m·ªôt d·ªãch v·ª• trung t√¢m gi√∫p ƒë∆°n gi·∫£n h√≥a vi·ªác k·∫øt n·ªëi, ƒë·ªãnh tuy·∫øn v√† ki·ªÉm so√°t l∆∞u l∆∞·ª£ng m·∫°ng trong c√°c h·ªá th·ªëng ph√¢n t√°n hi·ªán ƒë·∫°i.\n"},{"uri":"/4-solution-2/4-config-vpc-route-table/","title":"C·∫≠p Nh·∫≠t VPC Route tables","tags":[],"description":"","content":"C·∫•u h√¨nh Route tables ‚ÑπÔ∏è Information: Trong ph·∫ßn n√†y, b·∫°n s·∫Ω c·∫≠p nh·∫≠t l·∫°i route tables c·ªßa t·∫•t c·∫£ c√°c VPC chuy·ªÉn sang s·ª≠ d·ª•ng Transit Gateway.\nC·∫≠p nh·∫≠t Route Table cho Hub-vpc ƒêƒÉng nh·∫≠p v√†o VPC Management Console t·∫°i region N. Virginia (us-east-1)\nM·ªü VPC Management Console Ch·ªçn Route Tables Ch·ªçn Hub-private-rt Nh·∫•n Edit routes C·∫≠p nh·∫≠t route.\nC·∫≠p nh·∫≠t l·∫°i Target cho t·∫•t c·∫£ route th√†nh Transit Gateway Ch·ªçn Transit Gateway ƒë√£ t·∫°o Ch·ªçn Save changes L·∫∑p l·∫°i c√°c b∆∞·ªõc v·ªõi Hub-public-rt\nC·∫≠p nh·∫≠t Route Table cho Management-vpc ƒêƒÉng nh·∫≠p v√†o VPC Management Console t·∫°i region N. Virginia (us-east-1)\nM·ªü VPC Management Console Ch·ªçn Route Tables Ch·ªçn Management-private-rt Nh·∫•n Edit routes C·∫≠p nh·∫≠t route.\nC·∫≠p nh·∫≠t l·∫°i Target cho t·∫•t c·∫£ route th√†nh Transit Gateway Ch·ªçn Transit Gateway ƒë√£ t·∫°o Ch·ªçn Save changes L·∫∑p l·∫°i c√°c b∆∞·ªõc v·ªõi Management-public-rt\nC·∫≠p nh·∫≠t Route Table cho WebApp-vpc ƒêƒÉng nh·∫≠p v√†o VPC Management Console t·∫°i region N. Virginia (us-east-1)\nM·ªü VPC Management Console Ch·ªçn Route Tables Ch·ªçn WebApp-private-rt Nh·∫•n Edit routes C·∫≠p nh·∫≠t route.\nC·∫≠p nh·∫≠t l·∫°i Target cho t·∫•t c·∫£ route th√†nh Transit Gateway Ch·ªçn Transit Gateway ƒë√£ t·∫°o Ch·ªçn Save changes L·∫∑p l·∫°i c√°c b∆∞·ªõc v·ªõi WebApp-public-rt\nC·∫≠p nh·∫≠t Route Table cho Database-vpc ƒêƒÉng nh·∫≠p v√†o VPC Management Console t·∫°i region Oregon (us-west-2)\nM·ªü VPC Management Console Ch·ªçn Route Tables Ch·ªçn Database-private-rt Nh·∫•n Edit routes C·∫≠p nh·∫≠t route.\nC·∫≠p nh·∫≠t l·∫°i Target cho t·∫•t c·∫£ route th√†nh Transit Gateway Ch·ªçn Transit Gateway ƒë√£ t·∫°o Ch·ªçn Save changes L·∫∑p l·∫°i c√°c b∆∞·ªõc v·ªõi Database-public-rt\n"},{"uri":"/4-solution-2/","title":"Gi·∫£i ph√°p 2: AWS Transit Gateway","tags":[],"description":"","content":"Gi·ªõi thi·ªáu m√¥ h√¨nh Ki·∫øn tr√∫c s·ª≠ d·ª•ng AWS Transit Gateway AWS Transit Gateway (TGW) l√† m·ªôt d·ªãch v·ª• ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ ƒë∆°n gi·∫£n h√≥a vi·ªác k·∫øt n·ªëi m·∫°ng gi·ªØa nhi·ªÅu Amazon VPC v√† h·ªá th·ªëng on-premises. Thay v√¨ thi·∫øt l·∫≠p k·∫øt n·ªëi peering ri√™ng l·∫ª gi·ªØa t·ª´ng VPC nh∆∞ m√¥ h√¨nh Full Meshed, t·∫•t c·∫£ c√°c VPC ch·ªâ c·∫ßn k·∫øt n·ªëi ƒë·∫øn m·ªôt Transit Gateway trung t√¢m ‚Äì n∆°i ƒëi·ªÅu ph·ªëi to√†n b·ªô l∆∞u l∆∞·ª£ng m·∫°ng. C∆° ch·∫ø ho·∫°t ƒë·ªông: Transit Gateway ƒë√≥ng vai tr√≤ nh∆∞ m·ªôt router ƒë√°m m√¢y c√≥ kh·∫£ nƒÉng ƒë·ªãnh tuy·∫øn chuy·ªÉn ti·∫øp (transitive routing). N√≥ gi√∫p c√°c VPC k·∫øt n·ªëi gi√°n ti·∫øp v·ªõi nhau th√¥ng qua TGW m√† kh√¥ng c·∫ßn thi·∫øt l·∫≠p peering tr·ª±c ti·∫øp.\n∆Øu ƒëi·ªÉm n·ªïi b·∫≠t: H·ªó tr·ª£ ƒë·ªãnh tuy·∫øn chuy·ªÉn ti·∫øp: Gi·∫£i quy·∫øt tri·ªát ƒë·ªÉ h·∫°n ch·∫ø c·ªßa VPC Peering. T·ªëi gi·∫£n s·ªë l∆∞·ª£ng k·∫øt n·ªëi: V·ªõi n VPC, ch·ªâ c·∫ßn n k·∫øt n·ªëi ƒë·∫øn TGW thay v√¨ n(n-1)/2 k·∫øt n·ªëi peering. Kh·∫£ nƒÉng m·ªü r·ªông cao: Thi·∫øt k·∫ø ph√π h·ª£p v·ªõi h·ªá th·ªëng l·ªõn, multi-account v√† multi-region. Qu·∫£n l√Ω t·∫≠p trung: Route table v√† policy c√≥ th·ªÉ c·∫•u h√¨nh t·∫°i m·ªôt n∆°i duy nh·∫•t. Trong ph·∫ßn ti·∫øp theo c·ªßa workshop, ch√∫ng ta s·∫Ω tri·ªÉn khai ki·∫øn tr√∫c n√†y ƒë·ªÉ ki·ªÉm ch·ª©ng c√°c ∆∞u ƒëi·ªÉm th·ª±c t·∫ø v·ªÅ hi·ªáu qu·∫£ k·∫øt n·ªëi, ƒë·ªô ƒë∆°n gi·∫£n khi qu·∫£n tr·ªã v√† kh·∫£ nƒÉng m·ªü r·ªông so v·ªõi c√°c m√¥ h√¨nh tr∆∞·ªõc ƒë√≥.\nC√°c b∆∞·ªõc th·ª±c hi·ªán T·∫°o Transit Gateway T·∫°o Transit Gateway Attachments C·∫•u H√¨nh Transit Gateway Route Tables C·∫≠p Nh·∫≠t VPC Route tables Ki·ªÉm tra k·∫øt n·ªëi "},{"uri":"/5-monitoring-setup/","title":"C·∫•u H√¨nh Gi√°m S√°t","tags":[],"description":"","content":"Gi√°m s√°t l∆∞u l∆∞·ª£ng m·∫°ng v·ªõi VPC Flow Logs \u0026amp; CloudWatch Sau khi tri·ªÉn khai ki·∫øn tr√∫c k·∫øt n·ªëi gi·ªØa c√°c VPC b·∫±ng m√¥ h√¨nh Hub-and-Spoke, Full Meshed, v√† Transit Gateway, b∆∞·ªõc ti·∫øp theo l√† thi·∫øt l·∫≠p c∆° ch·∫ø gi√°m s√°t l∆∞u l∆∞·ª£ng m·∫°ng, nh·∫±m:\nTheo d√µi ho·∫°t ƒë·ªông k·∫øt n·ªëi th·ª±c t·∫ø gi·ªØa c√°c VPC, X√°c ƒë·ªãnh c√°c v·∫•n ƒë·ªÅ v·ªÅ k·∫øt n·ªëi, b·∫£o m·∫≠t ho·∫∑c hi·ªáu nƒÉng, V√† ph·ª•c v·ª• vi·ªác ki·ªÉm tra, ƒë√°nh gi√° sau tri·ªÉn khai. Trong ph·∫ßn n√†y, ch√∫ng ta s·∫Ω s·ª≠ d·ª•ng hai d·ªãch v·ª• ch√≠nh c·ªßa AWS: VPC Flow Logs: Ghi l·∫°i th√¥ng tin chi ti·∫øt v·ªÅ c√°c l∆∞u l∆∞·ª£ng m·∫°ng ƒëi v√†o, ƒëi ra v√† n·ªôi b·ªô gi·ªØa c√°c ENI (Elastic Network Interface) trong VPC. Amazon CloudWatch: D·ªãch v·ª• theo d√µi v√† ph√¢n t√≠ch d·ªØ li·ªáu ho·∫°t ƒë·ªông, n∆°i ch√∫ng ta c√≥ th·ªÉ l∆∞u tr·ªØ log, t·∫°o b·∫£ng ƒëi·ªÅu khi·ªÉn (dashboard) v√† thi·∫øt l·∫≠p c·∫£nh b√°o (alarm). Vi·ªác c·∫•u h√¨nh ƒë√∫ng c√°c c√¥ng c·ª• gi√°m s√°t kh√¥ng ch·ªâ gi√∫p ƒë·∫£m b·∫£o k·∫øt n·ªëi ƒëang ho·∫°t ƒë·ªông nh∆∞ k·ª≥ v·ªçng, m√† c√≤n h·ªó tr·ª£ gi·∫£i quy·∫øt s·ª± c·ªë v√† n√¢ng cao kh·∫£ nƒÉng v·∫≠n h√†nh h·ªá th·ªëng v·ªÅ l√¢u d√†i.\nC·∫•u h√¨nh VPC Flow Logs L∆∞u √Ω: Vi·ªác c·∫•u h√¨nh Flow Logs n√™n th·ª±c hi·ªán √≠t nh·∫•t t·∫°i VPC trung t√¢m (Hub) ƒë·ªÉ ghi l·∫°i to√†n b·ªô l∆∞u l∆∞·ª£ng ƒëi qua n·∫øu b·∫°n s·ª≠ d·ª•ng m√¥ h√¨nh Transit Gateway. V·ªõi m√¥ h√¨nh Full Meshed, b·∫°n n√™n b·∫≠t Flow Logs ·ªü m·ªói VPC c·∫ßn gi√°m s√°t.\nƒêƒÉng nh·∫≠p v√†o VPC Management Console t·∫°i region N. Virginia (us-east-1) M·ªü VPC Management Console Ch·ªçn Your VPC Ch·ªçn Hub-vpc Ch·ªçn Actions Ch·ªçn Creat flow log. T·∫°o Flow Logs. C·∫•u h√¨nh nh∆∞ ·∫£nh Nh·∫•n Creat flow log C·∫•u h√¨nh CloudWatch ƒêƒÉng nh·∫≠p v√†o CloudWatch Management Console t·∫°i region N. Virginia (us-east-1) Creat Dashboards Ch·ªçn Dashboards Ch·ªçn Creat dashboard Trong giao di·ªán T·∫°o Creat new dashboard Nh·∫≠p Name: VPC-Peering-Workshop-Dashboard Ch·ªçn Creat dashboard Th√™m Widget Ch·ªçn CloudWatch Ch·ªçn Metrics Ch·ªçn d·∫°ng Line Ch·ªçn Next Ch·ªçn EC2 Ch·ªçn Per-Instance Metrics L·ªçc theo MetricName=\u0026ldquo;CPUUtilization\u0026rdquo; Ch·ªçn 3 Instance nh∆∞ ·∫£nh B·∫°n c√≥ th·ªÉ c·∫•u h√¨nh th√™m dashboard cho Database-VPC n·∫øu mu·ªën.\n"},{"uri":"/4-solution-2/5-check-result/","title":"Ki·ªÉm tra k·∫øt n·ªëi","tags":[],"description":"","content":"Ki·ªÉm tra k·∫øt n·ªëi ‚ÑπÔ∏è Information: Sau khi ho√†n t·∫•t vi·ªác tri·ªÉn khai m√¥ h√¨nh ki·∫øn tr√∫c Hub-and-Spoke v·ªõi c√°c k·∫øt n·ªëi VPC Peering c·∫ßn thi·∫øt, b∆∞·ªõc ti·∫øp theo l√† x√°c minh kh·∫£ nƒÉng giao ti·∫øp m·∫°ng gi·ªØa c√°c VPC ƒë·ªÉ ƒë·∫£m b·∫£o c·∫•u h√¨nh ƒë·ªãnh tuy·∫øn, b·∫£o m·∫≠t v√† Peering ƒë√£ ƒë√∫ng ch·ª©c nƒÉng.\nKi·ªÉm tra k·∫øt n·ªëi gi·ªØa c√°c VPC. K·∫øt n·ªëi SSH ƒë·∫øn EC2 trong Management-vpc Ping ƒë·∫øn IP private c·ªßa EC2 trong Hub-vpc, Webapps-vpc v√† Database-vpc Ping th√†nh c√¥ng t·∫•t c·∫£ VPC.\nSSH ƒë·∫øn EC2 trong Webapp-vpc t·ª´ m√°y Management. chmod 400 workshop-keypair.pem ssh -i workshop-keypair.pem ec2-user@\u0026lt;IP-Private-Webapp-Router\u0026gt; Ping ƒë√™n IP private c·ªßa EC2 trong Hub-vpc v√† Database-vpc SSH ƒë·∫øn EC2 trong Database-vpc t·ª´ m√°y Management. chmod 400 workshop-keypair-west.pem ssh -i workshop-keypair-west.pem ubuntu@\u0026lt;IP-Private-Database-Router\u0026gt; K·∫øt lu·∫≠n Vi·ªác tri·ªÉn khai AWS Transit Gateway ƒë√£ ch·ª©ng minh ƒë∆∞·ª£c nh·ªØng ∆∞u ƒëi·ªÉm v∆∞·ª£t tr·ªôi trong vi·ªác ƒë∆°n gi·∫£n h√≥a k·∫øt n·ªëi m·∫°ng gi·ªØa nhi·ªÅu VPC, ƒë·∫∑c bi·ªát l√† khi so s√°nh v·ªõi c√°c m√¥ h√¨nh truy·ªÅn th·ªëng nh∆∞ Hub-and-Spoke ho·∫∑c Full Meshed.\nV·ªõi ch·ªâ m·ªôt k·∫øt n·ªëi duy nh·∫•t t·ª´ m·ªói VPC ƒë·∫øn Transit Gateway, ki·∫øn tr√∫c tr·ªü n√™n:\nD·ªÖ m·ªü r·ªông h∆°n khi th√™m m·ªõi VPC ho·∫∑c t√†i kho·∫£n,\nD·ªÖ qu·∫£n tr·ªã h∆°n nh·ªù c·∫•u h√¨nh ƒë·ªãnh tuy·∫øn t·∫≠p trung,\nV√† an to√†n h∆°n th√¥ng qua ki·ªÉm so√°t l∆∞u l∆∞·ª£ng m·∫°ng ·ªü m·ª©c Transit Gateway Route Table.\nNgo√†i ra, kh·∫£ nƒÉng h·ªó tr·ª£ ƒë·ªãnh tuy·∫øn chuy·ªÉn ti·∫øp (transitive routing) gi√∫p kh·∫Øc ph·ª•c ho√†n to√†n h·∫°n ch·∫ø l·ªõn nh·∫•t c·ªßa VPC Peering, ƒë·ªìng th·ªùi chu·∫©n b·ªã s·∫µn cho c√°c t√¨nh hu·ªëng ki·∫øn tr√∫c ph·ª©c t·∫°p h∆°n nh∆∞ multi-region, multi-account, ho·∫∑c hybrid cloud.\n"},{"uri":"/6-clean/","title":"D·ªçn D·∫πp T√†i Nguy√™n","tags":[],"description":"","content":"T·ªïng quan v·ªÅ d·ªçn d·∫πp ‚ö†Ô∏è Warning: ƒê·ªÉ tr√°nh ph√°t sinh chi ph√≠ kh√¥ng c·∫ßn thi·∫øt, b·∫°n c·∫ßn x√≥a t·∫•t c·∫£ t√†i nguy√™n theo th·ª© t·ª± sau. Do workshop s·ª≠ d·ª•ng 2 Region (us-east-1 v√† us-west-2), h√£y ki·ªÉm tra v√† x√≥a t√†i nguy√™n ·ªü c·∫£ hai v√πng\nX√≥a Transit Gateway Attachments Truy c·∫≠p VPC Management Console M·ªü VPC Management Console Ch·ªçn Transit Gateway Attachments X√≥a Attachments Ch·ªçn t·∫•t c·∫£ Attachments li√™n quan Nh·∫•n Actions \u0026gt; Delete ƒê·ª£i 1-2 ph√∫t ƒë·ªÉ ho√†n t·∫•t vi·ªác x√≥a X√≥a Transit Gateway Truy c·∫≠p VPC Management Console M·ªü VPC Management Console Ch·ªçn Transit Gateway X√≥a Transit Gateway Ch·ªçn t·∫•t c·∫£ Transit Gateway li√™n quan Nh·∫•n Actions \u0026gt; Delete ƒê·ª£i 1-2 ph√∫t ƒë·ªÉ ho√†n t·∫•t vi·ªác x√≥a ‚ö†Ô∏è Warning: B·∫°n ph·∫£i ƒë·ª£i t·∫•t c·∫£ Transit Gateway Attachments ƒë∆∞·ª£c x√≥a ho√†n to√†n tr∆∞·ªõc khi x√≥a Transit Gateway.\nX√≥a VPC Peering Connection Truy c·∫≠p VPC Management Console M·ªü VPC Management Console Ch·ªçn Peering Connections X√≥a Peering Connections Ch·ªçn t·∫•t c·∫£ Peering Connections li√™n quan Nh·∫•n Actions \u0026gt; Delete VPC Peering Conenction X√≥a CloudFormation Stack Truy c·∫≠p CloudFormation M·ªü CloudFormation Management Console Ch·ªçn Stacks X√≥a Stacks Ch·ªçn t·∫•t c·∫£ Stacks li√™n quan Nh·∫•n Delete "},{"uri":"/categories/","title":"Categories","tags":[],"description":"","content":""},{"uri":"/tags/","title":"Tags","tags":[],"description":"","content":""}]